{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../service/user.service\";\nimport * as i3 from \"@angular/material/snack-bar\";\nimport * as i4 from \"../service/login.service\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/material/button\";\nimport * as i8 from \"@angular/material/icon\";\nfunction RegistrationComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \" Email is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegistrationComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \" Not a valid email \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegistrationComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \" Password is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegistrationComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \" Password should have min 7 letter password, with at least a symbol, upper and lower case letters and a number. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegistrationComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \" Password must be same \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegistrationComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \" Name is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegistrationComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Name must be \", ctx_r6.name == null ? null : ctx_r6.name.errors == null ? null : ctx_r6.name.errors[\"minlength\"].requiredLength, \" characters long \");\n  }\n}\nfunction RegistrationComponent_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \" Mobile number is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegistrationComponent_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \" Mobile no, must be start with 7,8 or 9 \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class RegistrationComponent {\n  constructor(fb, userService, _sanckBar, loginStatus, router) {\n    this.fb = fb;\n    this.userService = userService;\n    this._sanckBar = _sanckBar;\n    this.loginStatus = loginStatus;\n    this.router = router;\n    this.uploadedImage = File;\n    this.registrationForm = this.fb.group({\n      email: [\"\", [Validators.required, this.checkIfGuestEmailsAreValid]],\n      password: [\"\", [Validators.required, Validators.pattern(/^(?=.*\\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{7,}$/)]],\n      confirmPassword: [\"\", [Validators.required, Validators.pattern(/^(?=.*\\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{7,}$/)]],\n      name: [\"\", [Validators.required, Validators.minLength(3)]],\n      phoneNo: [\"\", [Validators.required, Validators.pattern(/^[789]\\d{9,9}$/)]]\n      // userImg:[\"\"]\n    }, {\n      validators: [this.passMustMatchValidator]\n    });\n  }\n  get email() {\n    return this.registrationForm.get('email');\n  }\n  get password() {\n    return this.registrationForm.get('password');\n  }\n  get confirmPassword() {\n    return this.registrationForm.get('confirmPassword');\n  }\n  get name() {\n    return this.registrationForm.get('name');\n  }\n  get phone() {\n    return this.registrationForm.get('phoneNo');\n  }\n  checkIfGuestEmailsAreValid(c) {\n    if (c.value !== '') {\n      const emailString = c.value;\n      const emails = emailString.split(',').map(e => e.trim());\n      const emailRegex = /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n      const anyInvalidEmail = emails.every(e => e.match(emailRegex) !== null);\n      if (!anyInvalidEmail) {\n        return {\n          checkIfGuestEmailsAreValid: false\n        };\n      }\n    }\n    return null;\n  }\n  passMustMatchValidator(match) {\n    const passwordValue = match.get('password')?.value;\n    const confirmPass = match.get('confirmPassword')?.value;\n    if (!passwordValue || !confirmPass) {\n      return null;\n    }\n    if (passwordValue != confirmPass) {\n      return {\n        mustMatch: false\n      };\n    }\n    return null;\n  }\n  onImageUpload(event) {\n    const userImg = event.target.files[0];\n    this.uploadedImage = userImg;\n  }\n  addUser() {\n    const userData = this.registrationForm.value;\n    const fData = new FormData();\n    // form data always supports string file\n    fData.append('userData', JSON.stringify(userData));\n    fData.append('file', this.uploadedImage);\n    this.userService.registerUser(fData).subscribe({\n      next: data => {\n        console.log(data);\n        this._sanckBar.open('Account created successfully.....', 'success', {\n          duration: 3000,\n          panelClass: ['mat-toolbar', 'blue']\n        });\n        this.loginStatus.loginSuccess();\n        this.router.navigateByUrl(\"/login\");\n      },\n      error(err) {\n        alert(\"not submitted\");\n      }\n    });\n  }\n}\nRegistrationComponent.ɵfac = function RegistrationComponent_Factory(t) {\n  return new (t || RegistrationComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.UserService), i0.ɵɵdirectiveInject(i3.MatSnackBar), i0.ɵɵdirectiveInject(i4.LoginService), i0.ɵɵdirectiveInject(i5.Router));\n};\nRegistrationComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RegistrationComponent,\n  selectors: [[\"app-registration\"]],\n  decls: 48,\n  vars: 11,\n  consts: [[\"id\", \"registration\"], [\"id\", \"formBx\"], [2, \"text-align\", \"center\"], [3, \"formGroup\", \"ngSubmit\"], [\"id\", \"emailInp\"], [\"type\", \"text\", \"placeholder\", \"Enter your Email\", \"formControlName\", \"email\"], [\"id\", \"err\", 4, \"ngIf\"], [\"id\", \"passwordInp\"], [\"type\", \"password\", \"placeholder\", \"Enter your Password\", \"formControlName\", \"password\"], [\"id\", \"confirmPasswordInp\"], [\"type\", \"text\", \"placeholder\", \"Enter your Password\", \"formControlName\", \"confirmPassword\"], [\"id\", \"nameInp\"], [\"type\", \"text\", \"placeholder\", \"Enter your name\", \"formControlName\", \"name\"], [\"id\", \"phoneInp\"], [\"type\", \"number\", \"placeholder\", \"Enter your Mobile no.\", \"formControlName\", \"phoneNo\"], [\"id\", \"userInp\"], [\"type\", \"file\", \"accept\", \"images/*\", 3, \"change\"], [\"mat-raised-button\", \"\", \"type\", \"submit\", 3, \"disabled\"], [2, \"text-align\", \"center\", \"margin-top\", \"2%\", \"color\", \"white\", \"font-size\", \"15px\"], [\"routerLink\", \"/login\", 2, \"color\", \"rgb(242, 242, 33)\"], [\"id\", \"clear\"], [\"routerLink\", \"\"], [\"id\", \"err\"]],\n  template: function RegistrationComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"section\")(2, \"div\", 1)(3, \"h2\", 2);\n      i0.ɵɵtext(4, \"Register yourself\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"form\", 3);\n      i0.ɵɵlistener(\"ngSubmit\", function RegistrationComponent_Template_form_ngSubmit_5_listener() {\n        return ctx.addUser();\n      });\n      i0.ɵɵelementStart(6, \"div\", 4)(7, \"span\");\n      i0.ɵɵtext(8, \"Email \\u00A0\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(9, \"input\", 5);\n      i0.ɵɵtemplate(10, RegistrationComponent_div_10_Template, 2, 0, \"div\", 6);\n      i0.ɵɵtemplate(11, RegistrationComponent_div_11_Template, 2, 0, \"div\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"div\", 7)(13, \"span\");\n      i0.ɵɵtext(14, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(15, \"input\", 8);\n      i0.ɵɵtemplate(16, RegistrationComponent_div_16_Template, 2, 0, \"div\", 6);\n      i0.ɵɵtemplate(17, RegistrationComponent_div_17_Template, 2, 0, \"div\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\", 9)(19, \"span\");\n      i0.ɵɵtext(20, \"Confirm Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(21, \"input\", 10);\n      i0.ɵɵtemplate(22, RegistrationComponent_div_22_Template, 2, 0, \"div\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"div\", 11)(24, \"span\");\n      i0.ɵɵtext(25, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(26, \"input\", 12);\n      i0.ɵɵtemplate(27, RegistrationComponent_div_27_Template, 2, 0, \"div\", 6);\n      i0.ɵɵtemplate(28, RegistrationComponent_div_28_Template, 2, 1, \"div\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"div\", 13)(30, \"span\");\n      i0.ɵɵtext(31, \"Phone No.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(32, \"input\", 14);\n      i0.ɵɵtemplate(33, RegistrationComponent_div_33_Template, 2, 0, \"div\", 6);\n      i0.ɵɵtemplate(34, RegistrationComponent_div_34_Template, 2, 0, \"div\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"div\", 15)(36, \"input\", 16);\n      i0.ɵɵlistener(\"change\", function RegistrationComponent_Template_input_change_36_listener($event) {\n        return ctx.onImageUpload($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(37, \"br\");\n      i0.ɵɵelementStart(38, \"button\", 17);\n      i0.ɵɵtext(39, \"Sign In\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(40, \"p\", 18);\n      i0.ɵɵtext(41, \" Already have an account? \");\n      i0.ɵɵelementStart(42, \"a\", 19);\n      i0.ɵɵtext(43, \"Login\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(44, \"div\", 20)(45, \"a\", 21)(46, \"mat-icon\");\n      i0.ɵɵtext(47, \"clear\");\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"formGroup\", ctx.registrationForm);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", (ctx.email == null ? null : ctx.email.errors == null ? null : ctx.email.errors[\"required\"]) && (ctx.email == null ? null : ctx.email.dirty));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", (ctx.email == null ? null : ctx.email.errors == null ? null : ctx.email.errors[\"checkIfGuestEmailsAreValid\"]) === false && (ctx.email == null ? null : ctx.email.dirty));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", (ctx.password == null ? null : ctx.password.errors == null ? null : ctx.password.errors[\"required\"]) && (ctx.password == null ? null : ctx.password.dirty));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.password == null ? null : ctx.password.errors == null ? null : ctx.password.errors[\"pattern\"]);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", (ctx.registrationForm.errors == null ? null : ctx.registrationForm.errors[\"mustMatch\"]) === false);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", (ctx.name == null ? null : ctx.name.errors == null ? null : ctx.name.errors[\"required\"]) && (ctx.name == null ? null : ctx.name.dirty));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.name == null ? null : ctx.name.errors == null ? null : ctx.name.errors[\"minlength\"]);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", (ctx.phone == null ? null : ctx.phone.errors == null ? null : ctx.phone.errors[\"required\"]) && (ctx.phone == null ? null : ctx.phone.dirty));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.phone == null ? null : ctx.phone.errors == null ? null : ctx.phone.errors[\"pattern\"]);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"disabled\", !ctx.registrationForm.valid);\n    }\n  },\n  dependencies: [i6.NgIf, i5.RouterLink, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i7.MatButton, i8.MatIcon],\n  styles: [\"#registration[_ngcontent-%COMP%]{\\r\\n    padding-top: 50px;\\r\\n    width:100%;\\r\\n    height: 100%;\\r\\n    margin: auto;\\r\\n    background: linear-gradient(to top,rgb(248, 133, 26),rgb(216, 217, 219));    background-image: url('signUp2.png');\\r\\n    background-repeat: no-repeat;\\r\\n    background-size:contain;\\r\\n    position: relative;\\r\\n}\\r\\nh2[_ngcontent-%COMP%]{\\r\\n    color: white;\\r\\n    font-family: cursive;\\r\\n    \\r\\n}\\r\\n#formBx[_ngcontent-%COMP%]{\\r\\n    background:linear-gradient(to right,rgb(134, 15, 237),rgb(200, 25, 244));\\r\\n    padding: 2%;\\r\\n    border-radius:6%;\\r\\n    box-shadow:10px 10px 190px -50px;\\r\\n    float: right;\\r\\n    position: relative;\\r\\n    top: 3%; right: 8%;\\r\\n    width:460px;\\r\\n    scale: 0.9;\\r\\n }\\r\\n\\r\\nform[_ngcontent-%COMP%]{\\r\\n    width:400px;\\r\\n    margin: auto;\\r\\n    text-align: center;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n}\\r\\ninput[_ngcontent-%COMP%]{\\r\\n    border-radius:30px;\\r\\n    width: 95%;\\r\\n    padding: 15px 12px;\\r\\n    outline: none;\\r\\n    margin-bottom:6px;\\r\\n}\\r\\nspan[_ngcontent-%COMP%]{\\r\\n    color: white;\\r\\n}\\r\\n\\r\\n #err[_ngcontent-%COMP%]{\\r\\n    margin-bottom: 10px;\\r\\n    color: rgb(242, 249, 47);\\r\\n }\\r\\n\\r\\n #passwordInp[_ngcontent-%COMP%], #confirmPasswordInp[_ngcontent-%COMP%], #emailInp[_ngcontent-%COMP%], #nameInp[_ngcontent-%COMP%]{\\r\\n    margin-bottom: 10px;\\r\\n }\\r\\n button[_ngcontent-%COMP%]{\\r\\n    margin-top: -50px;\\r\\n }\\r\\n\\r\\n #clear[_ngcontent-%COMP%]{\\r\\n    \\r\\n    background-color: rgb(255, 0, 132);\\r\\n    width: 50px;\\r\\n    height: 50px;\\r\\n    border-radius: 50%;\\r\\n    text-align: center;\\r\\n    position: absolute;\\r\\n    top: 10px;\\r\\n    right: 10px;\\r\\n\\r\\n }\\r\\n #clear[_ngcontent-%COMP%]:hover{\\r\\n    background-color: rgb(155, 2, 68);\\r\\n }\\r\\n #clear[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{\\r\\n    line-height: 60px;\\r\\n    color: white;\\r\\n    padding: 10px;\\r\\n }\\r\\n #userInp[_ngcontent-%COMP%]{\\r\\n    border: 1px solid black;\\r\\n    margin-bottom: 20px;\\r\\n    border-radius: 15px;\\r\\n }\\r\\n @media (max-width:395px) {\\r\\n    #clear[_ngcontent-%COMP%]{\\r\\n        left: -20px;\\r\\n        top: 88vh;\\r\\n        background-color: white;\\r\\n        transition: 0.7s;\\r\\n    }\\r\\n    #clear[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{\\r\\n        color: black;\\r\\n    }\\r\\n    #clear[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{\\r\\n        color: white;\\r\\n    }\\r\\n }\\r\\n\\r\\n @media (max-width:526px) {\\r\\n    #registration[_ngcontent-%COMP%]{\\r\\n        background-color: rgb(253, 40, 136);\\r\\n    }\\r\\n    form[_ngcontent-%COMP%]{\\r\\n        margin: auto;\\r\\n        width:90%;\\r\\n    }\\r\\n    #formBx[_ngcontent-%COMP%]{\\r\\n        width:90%;\\r\\n        border-radius: 3%;\\r\\n        \\r\\n     }\\r\\n }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcmVnaXN0cmF0aW9uL3JlZ2lzdHJhdGlvbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksaUJBQWlCO0lBQ2pCLFVBQVU7SUFDVixZQUFZO0lBQ1osWUFBWTtJQUNaLHdFQUF3RSxLQUFLLG9DQUErQztJQUM1SCw0QkFBNEI7SUFDNUIsdUJBQXVCO0lBQ3ZCLGtCQUFrQjtBQUN0QjtBQUNBO0lBQ0ksWUFBWTtJQUNaLG9CQUFvQjs7QUFFeEI7QUFDQTtJQUNJLHdFQUF3RTtJQUN4RSxXQUFXO0lBQ1gsZ0JBQWdCO0lBQ2hCLGdDQUFnQztJQUNoQyxZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLE9BQU8sRUFBRSxTQUFTO0lBQ2xCLFdBQVc7SUFDWCxVQUFVO0NBQ2I7O0FBRUQ7SUFDSSxXQUFXO0lBQ1gsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQix1QkFBdUI7SUFDdkIsbUJBQW1CO0FBQ3ZCO0FBQ0E7SUFDSSxrQkFBa0I7SUFDbEIsVUFBVTtJQUNWLGtCQUFrQjtJQUNsQixhQUFhO0lBQ2IsaUJBQWlCO0FBQ3JCO0FBQ0E7SUFDSSxZQUFZO0FBQ2hCOztDQUVDO0lBQ0csbUJBQW1CO0lBQ25CLHdCQUF3QjtDQUMzQjs7Q0FFQTtJQUNHLG1CQUFtQjtDQUN0QjtDQUNBO0lBQ0csaUJBQWlCO0NBQ3BCOztDQUVBOztJQUVHLGtDQUFrQztJQUNsQyxXQUFXO0lBQ1gsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixrQkFBa0I7SUFDbEIsa0JBQWtCO0lBQ2xCLFNBQVM7SUFDVCxXQUFXOztDQUVkO0NBQ0E7SUFDRyxpQ0FBaUM7Q0FDcEM7Q0FDQTtJQUNHLGlCQUFpQjtJQUNqQixZQUFZO0lBQ1osYUFBYTtDQUNoQjtDQUNBO0lBQ0csdUJBQXVCO0lBQ3ZCLG1CQUFtQjtJQUNuQixtQkFBbUI7Q0FDdEI7Q0FDQTtJQUNHO1FBQ0ksV0FBVztRQUNYLFNBQVM7UUFDVCx1QkFBdUI7UUFDdkIsZ0JBQWdCO0lBQ3BCO0lBQ0E7UUFDSSxZQUFZO0lBQ2hCO0lBQ0E7UUFDSSxZQUFZO0lBQ2hCO0NBQ0g7O0NBRUE7SUFDRztRQUNJLG1DQUFtQztJQUN2QztJQUNBO1FBQ0ksWUFBWTtRQUNaLFNBQVM7SUFDYjtJQUNBO1FBQ0ksU0FBUztRQUNULGlCQUFpQjs7S0FFcEI7Q0FDSiIsInNvdXJjZXNDb250ZW50IjpbIiNyZWdpc3RyYXRpb257XHJcbiAgICBwYWRkaW5nLXRvcDogNTBweDtcclxuICAgIHdpZHRoOjEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBtYXJnaW46IGF1dG87XHJcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gdG9wLHJnYigyNDgsIDEzMywgMjYpLHJnYigyMTYsIDIxNywgMjE5KSk7ICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCguLi8uLi9hc3NldHMvc2lnblVwMi5wbmcpO1xyXG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcclxuICAgIGJhY2tncm91bmQtc2l6ZTpjb250YWluO1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG59XHJcbmgye1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgZm9udC1mYW1pbHk6IGN1cnNpdmU7XHJcbiAgICBcclxufVxyXG4jZm9ybUJ4e1xyXG4gICAgYmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQscmdiKDEzNCwgMTUsIDIzNykscmdiKDIwMCwgMjUsIDI0NCkpO1xyXG4gICAgcGFkZGluZzogMiU7XHJcbiAgICBib3JkZXItcmFkaXVzOjYlO1xyXG4gICAgYm94LXNoYWRvdzoxMHB4IDEwcHggMTkwcHggLTUwcHg7XHJcbiAgICBmbG9hdDogcmlnaHQ7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICB0b3A6IDMlOyByaWdodDogOCU7XHJcbiAgICB3aWR0aDo0NjBweDtcclxuICAgIHNjYWxlOiAwLjk7XHJcbiB9XHJcblxyXG5mb3Jte1xyXG4gICAgd2lkdGg6NDAwcHg7XHJcbiAgICBtYXJnaW46IGF1dG87XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuaW5wdXR7XHJcbiAgICBib3JkZXItcmFkaXVzOjMwcHg7XHJcbiAgICB3aWR0aDogOTUlO1xyXG4gICAgcGFkZGluZzogMTVweCAxMnB4O1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxuICAgIG1hcmdpbi1ib3R0b206NnB4O1xyXG59XHJcbnNwYW57XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbn1cclxuXHJcbiAjZXJye1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuICAgIGNvbG9yOiByZ2IoMjQyLCAyNDksIDQ3KTtcclxuIH1cclxuXHJcbiAjcGFzc3dvcmRJbnAsI2NvbmZpcm1QYXNzd29yZElucCwjZW1haWxJbnAsI25hbWVJbnB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gfVxyXG4gYnV0dG9ue1xyXG4gICAgbWFyZ2luLXRvcDogLTUwcHg7XHJcbiB9XHJcblxyXG4gI2NsZWFye1xyXG4gICAgXHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjU1LCAwLCAxMzIpO1xyXG4gICAgd2lkdGg6IDUwcHg7XHJcbiAgICBoZWlnaHQ6IDUwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDEwcHg7XHJcbiAgICByaWdodDogMTBweDtcclxuXHJcbiB9XHJcbiAjY2xlYXI6aG92ZXJ7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMTU1LCAyLCA2OCk7XHJcbiB9XHJcbiAjY2xlYXIgYXtcclxuICAgIGxpbmUtaGVpZ2h0OiA2MHB4O1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuIH1cclxuICN1c2VySW5we1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcclxuIH1cclxuIEBtZWRpYSAobWF4LXdpZHRoOjM5NXB4KSB7XHJcbiAgICAjY2xlYXJ7XHJcbiAgICAgICAgbGVmdDogLTIwcHg7XHJcbiAgICAgICAgdG9wOiA4OHZoO1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgICAgIHRyYW5zaXRpb246IDAuN3M7XHJcbiAgICB9XHJcbiAgICAjY2xlYXIgYXtcclxuICAgICAgICBjb2xvcjogYmxhY2s7XHJcbiAgICB9XHJcbiAgICAjY2xlYXIgYTpob3ZlcntcclxuICAgICAgICBjb2xvcjogd2hpdGU7XHJcbiAgICB9XHJcbiB9XHJcblxyXG4gQG1lZGlhIChtYXgtd2lkdGg6NTI2cHgpIHtcclxuICAgICNyZWdpc3RyYXRpb257XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1MywgNDAsIDEzNik7XHJcbiAgICB9XHJcbiAgICBmb3Jte1xyXG4gICAgICAgIG1hcmdpbjogYXV0bztcclxuICAgICAgICB3aWR0aDo5MCU7XHJcbiAgICB9XHJcbiAgICAjZm9ybUJ4e1xyXG4gICAgICAgIHdpZHRoOjkwJTtcclxuICAgICAgICBib3JkZXItcmFkaXVzOiAzJTtcclxuICAgICAgICBcclxuICAgICB9XHJcbiB9Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["Validators","i0","RegistrationComponent","constructor","fb","userService","_sanckBar","loginStatus","router","File","group","email","required","checkIfGuestEmailsAreValid","password","pattern","confirmPassword","name","minLength","phoneNo","validators","passMustMatchValidator","registrationForm","get","phone","c","value","emailString","emails","split","map","e","trim","emailRegex","anyInvalidEmail","every","match","passwordValue","confirmPass","mustMatch","onImageUpload","event","userImg","target","files","uploadedImage","addUser","userData","fData","FormData","append","JSON","stringify","registerUser","subscribe","next","data","console","log","open","duration","panelClass","loginSuccess","navigateByUrl","error","err","alert","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["F:\\CAPSTONE PROJECT- FOODIE APP\\FoodieApplicationFE\\FoodieApplication\\src\\app\\registration\\registration.component.ts","F:\\CAPSTONE PROJECT- FOODIE APP\\FoodieApplicationFE\\FoodieApplication\\src\\app\\registration\\registration.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { AbstractControl, FormBuilder, Validators } from '@angular/forms';\nimport { UserService } from '../service/user.service';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { LoginService } from '../service/login.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-registration',\n  templateUrl: './registration.component.html',\n  styleUrls: ['./registration.component.css']\n})\nexport class RegistrationComponent {\n  responseData:any;\n  public uploadedImage:any=File;\n\n  constructor(private fb:FormBuilder,private userService:UserService,private _sanckBar:MatSnackBar,private loginStatus:LoginService,private router:Router){}\n\n          registrationForm = this.fb.group({\n            email:[\"\",[Validators.required,this.checkIfGuestEmailsAreValid]],\n            password:[\"\",[Validators.required,Validators.pattern(/^(?=.*\\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{7,}$/)]],\n            confirmPassword:[\"\",[Validators.required,Validators.pattern(/^(?=.*\\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{7,}$/)]],\n            name:[\"\",[Validators.required,Validators.minLength(3)]],\n            phoneNo:[\"\",[Validators.required,Validators.pattern(/^[789]\\d{9,9}$/)]]\n            // userImg:[\"\"]\n          },{validators:[this.passMustMatchValidator]})\n\n  get email(){\n    return this.registrationForm.get('email');\n  }\n\n  get password(){\n    return this.registrationForm.get('password');\n  }\n\n  get confirmPassword(){\n    return this.registrationForm.get('confirmPassword');\n  }\n\n  get name(){\n    return this.registrationForm.get('name');\n  }\n\n  get phone(){\n    return this.registrationForm.get('phoneNo');\n  }\n\n  checkIfGuestEmailsAreValid(c: AbstractControl) {\n \n    if (c.value !== '') {\n      const emailString = c.value;\n      const emails = emailString.split(',').map((e: string) => e.trim());\n      const emailRegex = /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n      const anyInvalidEmail = emails.every((e: string) => e.match(emailRegex) !== null);\n      if (!anyInvalidEmail) {\n        return { checkIfGuestEmailsAreValid: false }\n      }\n    }\n    return null;\n  }\n\n  passMustMatchValidator(match:AbstractControl){\n    const passwordValue = match.get('password')?.value\n    const confirmPass = match.get('confirmPassword')?.value\n    if(!passwordValue || !confirmPass){\n      return null;\n    }\n    if(passwordValue != confirmPass){\n      return { mustMatch: false }\n    }\n    return null;\n  }\n\n  public onImageUpload(event:any) {\n   const userImg = event.target.files[0];\n    this.uploadedImage = userImg;\n    \n  }\n\n  addUser(){\n    const userData = this.registrationForm.value;\n    const fData = new FormData();\n    // form data always supports string file\n    fData.append('userData', JSON.stringify(userData));\n    fData.append('file',this.uploadedImage);\n    \n    this.userService.registerUser(fData).subscribe({\n      next:data=>{\n        console.log(data);\n        this._sanckBar.open('Account created successfully.....', 'success', {\n          duration: 3000,\n          panelClass: ['mat-toolbar', 'blue']\n        });\n        this.loginStatus.loginSuccess();\n        this.router.navigateByUrl(\"/login\")\n      },error(err) {\n        alert(\"not submitted\")\n      },\n    })\n  }\n}\n","<div id=\"registration\">\n    <section>\n\n    <div id=\"formBx\">\n        <h2 style=\"text-align: center;\">Register yourself</h2>\n    <form (ngSubmit)=\"addUser()\" [formGroup]=\" registrationForm\">\n  \n    <div id=\"emailInp\">\n        <span>Email &nbsp;</span>\n        <input type=\"text\" placeholder=\"Enter your Email\" formControlName=\"email\">\n        <div id=\"err\" *ngIf=\"email?.errors?.['required'] && email?.dirty\">\n            Email is required\n        </div>\n        <div id=\"err\" *ngIf=\"email?.errors?.['checkIfGuestEmailsAreValid']===false && email?.dirty\">\n           Not a valid email \n        </div>\n    </div>\n\n    <div id=\"passwordInp\">\n        <span>Password</span>\n        <input type=\"password\" placeholder=\"Enter your Password\" formControlName=\"password\">\n        <div id=\"err\" *ngIf=\"password?.errors?.['required'] && password?.dirty\">\n            Password is required\n        </div>\n        <div id=\"err\" *ngIf=\"password?.errors?.['pattern']\">\n            Password should have min 7 letter password, with at least a symbol, upper and lower case letters\n                and a number.\n        </div>\n    </div>\n\n    <div id=\"confirmPasswordInp\">\n        <span>Confirm Password</span>\n        <input type=\"text\" placeholder=\"Enter your Password\" formControlName=\"confirmPassword\">\n        <div id=\"err\" *ngIf=\"registrationForm.errors?.['mustMatch']===false\">\n            Password must be same\n        </div>\n    </div>\n\n    <div id=\"nameInp\">\n        <span>Name</span>\n        <input type=\"text\" placeholder=\"Enter your name\" formControlName=\"name\">\n        <div id=\"err\" *ngIf=\"name?.errors?.['required'] && name?.dirty\">\n            Name is required\n        </div>\n        <div id=\"err\" *ngIf=\"name?.errors?.['minlength']\">\n            Name must be {{name?.errors?.['minlength'].requiredLength}} characters long\n        </div>\n    </div>\n\n    <div id=\"phoneInp\">\n        <span>Phone No.</span>\n        <input type=\"number\" placeholder=\"Enter your Mobile no.\" formControlName=\"phoneNo\">\n        <div id=\"err\" *ngIf=\"phone?.errors?.['required'] && phone?.dirty\">\n            Mobile number is required\n        </div>\n        <div id=\"err\" *ngIf=\"phone?.errors?.['pattern']\">\n           Mobile no, must be start with 7,8 or 9\n        </div>\n    </div>\n\n    <div id=\"userInp\">\n        <input type=\"file\" accept=\"images/*\" (change)=\"onImageUpload($event)\">\n    </div>\n\n    <br>\n    <button mat-raised-button type=\"submit\" [disabled]=\"! registrationForm.valid\">Sign In</button>\n\n</form>\n<p style=\"text-align: center;margin-top:2%;color: white;font-size: 15px;\">\n    Already have an account? <a routerLink=\"/login\" style=\"color: rgb(242, 242, 33);\">Login</a>\n</p>\n<div id=\"clear\">\n    <a routerLink=\"\"><mat-icon>clear</mat-icon></a>\n</div>\n</div>\n</section>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}