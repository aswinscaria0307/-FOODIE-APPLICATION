{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet FavouritesComponent = class FavouritesComponent {\n  constructor(userSer, router, login, foodie, userService, _sanckBar) {\n    this.userSer = userSer;\n    this.router = router;\n    this.foodie = foodie;\n    this.userService = userService;\n    this._sanckBar = _sanckBar;\n  }\n  ngOnInit() {\n    this.userSer.getListOfFavourites().subscribe({\n      next: data => {\n        console.log(data);\n        this.favList = data;\n      }\n    });\n  }\n  removeItem(data) {\n    this.userSer.removeFavourite(data).subscribe({\n      next: data => {\n        console.log(\"item removed\");\n        this.router.navigateByUrl(\"/fav\");\n      }\n    });\n  }\n  addToOrder(theItem) {\n    if (this.login.isLoggedIn) {\n      this.addtocart = new Order();\n      this.addtocart.customerId = localStorage.getItem('email') ?? '';\n      this.addtocart.billingAddress = localStorage.getItem(\"address\") ?? '';\n      // let item:any=this.restaurantItems.find((item: { itemName: string; })=>item.itemName==itemName)\n      if (theItem) {\n        console.log(theItem);\n        theItem.status = \"incart\";\n        theItem.count = 1;\n        if (!this.addtocart.items) {\n          this.addtocart.items = [];\n        }\n        this.addtocart.items = this.addtocart.items.concat(theItem);\n        this.foodie.insertOrder(this.addtocart).subscribe(data => {\n          this._sanckBar.open(`Item Added to Cart`, 'success', {\n            duration: 3000,\n            panelClass: ['mat-toolbar', 'mat-primary']\n          });\n        });\n      } else this.route.navigateByUrl(\"/login\");\n    } else {\n      this.route.navigateByUrl(\"/login\");\n    }\n  }\n};\nFavouritesComponent = __decorate([Component({\n  selector: 'app-favourites',\n  templateUrl: './favourites.component.html',\n  styleUrls: ['./favourites.component.css']\n})], FavouritesComponent);\nexport { FavouritesComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAS1C,IAAMC,mBAAmB,GAAzB,MAAMA,mBAAmB;EAE9BC,YAAoBC,OAAmB,EAASC,MAAa,EAACC,KAAkB,EAASC,MAAoB,EAASC,WAAuB,EAASC,SAAqB;IAAvJ,YAAO,GAAPL,OAAO;IAAqB,WAAM,GAANC,MAAM;IAAmC,WAAM,GAANE,MAAM;IAAuB,gBAAW,GAAXC,WAAW;IAAqB,cAAS,GAATC,SAAS;EAAc;EAE7KC,QAAQ;IACN,IAAI,CAACN,OAAO,CAACO,mBAAmB,EAAE,CAACC,SAAS,CAAC;MAC3CC,IAAI,EAACC,IAAI,IAAE;QACTC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;QAChB,IAAI,CAACG,OAAO,GAAGH,IAAI;MACtB;KACD,CAAC;EAEJ;EACAI,UAAU,CAACJ,IAAQ;IAClB,IAAI,CAACV,OAAO,CAACe,eAAe,CAACL,IAAI,CAAC,CAACF,SAAS,CAAC;MAC5CC,IAAI,EAACC,IAAI,IAAE;QACTC,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;QAC3B,IAAI,CAACX,MAAM,CAACe,aAAa,CAAC,MAAM,CAAC;MACnC;KACA,CAAC;EACH;EAEAC,UAAU,CAACC,OAAW;IACpB,IAAG,IAAI,CAAChB,KAAK,CAACiB,UAAU,EAAC;MACvB,IAAI,CAACC,SAAS,GAAG,IAAIC,KAAK,EAAE;MAC5B,IAAI,CAACD,SAAS,CAACE,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAAI,EAAE;MAC/D,IAAI,CAACJ,SAAS,CAACK,cAAc,GAACF,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC,IAAG,EAAE;MAClE;MACA,IAAIN,OAAO,EAAE;QACXP,OAAO,CAACC,GAAG,CAACM,OAAO,CAAC;QACpBA,OAAO,CAACQ,MAAM,GAAC,QAAQ;QACvBR,OAAO,CAACS,KAAK,GAAC,CAAC;QACf,IAAI,CAAC,IAAI,CAACP,SAAS,CAACQ,KAAK,EAAE;UACzB,IAAI,CAACR,SAAS,CAACQ,KAAK,GAAG,EAAE;;QAE3B,IAAI,CAACR,SAAS,CAACQ,KAAK,GAAG,IAAI,CAACR,SAAS,CAACQ,KAAK,CAACC,MAAM,CAACX,OAAO,CAAC;QAC3D,IAAI,CAACf,MAAM,CAAC2B,WAAW,CAAC,IAAI,CAACV,SAAS,CAAC,CAACZ,SAAS,CAACE,IAAI,IAAE;UACtD,IAAI,CAACL,SAAS,CAAC0B,IAAI,CAAC,oBAAoB,EAAE,SAAS,EAAE;YACnDC,QAAQ,EAAE,IAAI;YACdC,UAAU,EAAE,CAAC,aAAa,EAAE,aAAa;WAC1C,CAAC;QACJ,CAAC,CAAC;OACD,MACL,IAAI,CAACC,KAAK,CAAClB,aAAa,CAAC,QAAQ,CAAC;KACnC,MAAM;MAAC,IAAI,CAACkB,KAAK,CAAClB,aAAa,CAAC,QAAQ,CAAC;;EAE1C;CAED;AAhDYlB,mBAAmB,eAL/BD,SAAS,CAAC;EACTsC,QAAQ,EAAE,gBAAgB;EAC1BC,WAAW,EAAE,6BAA6B;EAC1CC,SAAS,EAAE,CAAC,4BAA4B;CACzC,CAAC,GACWvC,mBAAmB,CAgD/B;SAhDYA,mBAAmB","names":["Component","FavouritesComponent","constructor","userSer","router","login","foodie","userService","_sanckBar","ngOnInit","getListOfFavourites","subscribe","next","data","console","log","favList","removeItem","removeFavourite","navigateByUrl","addToOrder","theItem","isLoggedIn","addtocart","Order","customerId","localStorage","getItem","billingAddress","status","count","items","concat","insertOrder","open","duration","panelClass","route","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["F:\\CAPSTONE PROJECT- FOODIE APP\\FoodieApplicationFE\\FoodieApplication\\src\\app\\favourites\\favourites.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { UserService } from '../service/user.service';\nimport { Router } from '@angular/router';\nimport { LoginService } from '../service/login.service';\n@Component({\n  selector: 'app-favourites',\n  templateUrl: './favourites.component.html',\n  styleUrls: ['./favourites.component.css']\n})\nexport class FavouritesComponent implements OnInit  {\n  favList:any;\n  constructor(private userSer:UserService,private router:Router,login:LoginService,private foodie:FoodieService,private userService:UserService,private _sanckBar:MatSnackBar){}\n\n  ngOnInit(): void {\n    this.userSer.getListOfFavourites().subscribe({\n      next:data=>{\n        console.log(data);\n         this.favList = data;\n      } \n    })\n    \n  }\n  removeItem(data:any){\n   this.userSer.removeFavourite(data).subscribe({\n    next:data=>{\n      console.log(\"item removed\");\n      this.router.navigateByUrl(\"/fav\")\n    }\n   })\n  }\n\n  addToOrder(theItem:any){\n    if(this.login.isLoggedIn){\n      this.addtocart = new Order();\n      this.addtocart.customerId = localStorage.getItem('email') ?? '';\n      this.addtocart.billingAddress=localStorage.getItem(\"address\")?? '';\n      // let item:any=this.restaurantItems.find((item: { itemName: string; })=>item.itemName==itemName)\n      if (theItem) {\n        console.log(theItem);\n        theItem.status=\"incart\";\n        theItem.count=1;\n        if (!this.addtocart.items) {\n          this.addtocart.items = [];\n        }\n        this.addtocart.items = this.addtocart.items.concat(theItem);\n        this.foodie.insertOrder(this.addtocart).subscribe(data=>{\n          this._sanckBar.open(`Item Added to Cart`, 'success', {\n            duration: 3000,\n            panelClass: ['mat-toolbar', 'mat-primary']\n          });\n        });\n        }else\n    this.route.navigateByUrl(\"/login\");\n  }  else{this.route.navigateByUrl(\"/login\");}\n  \n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}