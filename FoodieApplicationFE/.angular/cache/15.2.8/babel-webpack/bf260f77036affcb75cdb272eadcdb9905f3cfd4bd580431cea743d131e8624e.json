{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet CartComponent = class CartComponent {\n  constructor(foodie) {\n    this.foodie = foodie;\n    this.items = [];\n    this.theItem = null;\n    this.total = 0;\n    this.subtotal = 0;\n    this.shipping = 0;\n    this.goToPayment = () => {\n      console.log(\"Payment started...\" + this.subtotal);\n      let data = {\n        orderAmount: this.subtotal,\n        orderInfo: \"order_request\"\n      };\n      this.foodie.createPaymentOrder(data).subscribe(response => {\n        console.log(response);\n        if (response.status == 'created') {\n          //open payment form\n          var options = {\n            key: 'rzp_test_pVaEM3TS2Oh7JN',\n            // key_secret: 'KuubExufG6n0XJJ70YNwv7yU',\n            amount: response.amount,\n            currency: 'INR',\n            name: 'Foodie',\n            description: 'order total amount',\n            image: 'data:image/png;base64,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',\n            order_id: response.id,\n            handler: function (response) {\n              alert(response.razorpay_payment_id);\n              alert(response.razorpay_order_id);\n              alert(response.razorpay_signature);\n            },\n            prefill: {\n              name: \"\",\n              email: \"\",\n              contact: \"\"\n            },\n            notes: {\n              address: \"Razorpay Corporate Office\"\n            },\n            theme: {\n              color: \"#3399cc\"\n            }\n          };\n          var rzp = new Razorpay(options);\n          rzp.on('payment.failed', function (response) {\n            alert(response.error.code);\n            alert(response.error.description);\n            alert(response.error.source);\n            alert(response.error.step);\n            alert(response.error.reason);\n            alert(response.error.metadata.order_id);\n            alert(response.error.metadata.payment_id);\n          });\n          rzp.open();\n        }\n      }, failure => {\n        console.log(failure);\n        alert(\"Something went wrong...\");\n      });\n    };\n  }\n  ngOnInit() {\n    localStorage.setItem('jwt', \"eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoidXNlciIsImlhdCI6MTY4MzY5MjE1NiwiZW1haWwiOiJ4QGdtYWlsLmNvbSJ9.ZsvOeR7GhVvwRiLNdcGr0hkIrxvuj0HedD79S9_8-z9lOjG93JILI05KTBkD0fiL3Z1xCQI4cqeWNctpNOykEg\");\n    localStorage.setItem('email', \"x@gmail.com\");\n    this.foodie.getItems(\"incart\", localStorage.getItem('email')).subscribe(response => {\n      console.log(response);\n      this.items = response;\n      this.totalPrice();\n    });\n  }\n  remove(itemName) {\n    if (itemName != null) {\n      let remove = this.items.find(item => item.itemName === itemName);\n      console.log(remove);\n      if (remove != undefined) {\n        this.foodie.removeItem(localStorage.getItem('email'), remove).subscribe(response => {\n          this.ngOnInit();\n          this.totalPrice();\n        });\n      }\n    }\n  }\n  add(itemName) {\n    if (itemName != null) {\n      let add = this.items.find(item => item.itemName === itemName);\n      console.log(add);\n      if (add != undefined) {\n        this.foodie.addItem(localStorage.getItem('email'), add).subscribe(responce => {\n          this.ngOnInit();\n          this.totalPrice();\n        });\n      }\n    }\n  }\n  totalPrice() {\n    this.total = this.items.map(item => {\n      if (item.itemPrice && item.count) {\n        return item.itemPrice * item.count;\n      }\n      return 0;\n    }).reduce((acc, val) => acc + val, 0);\n    this.subtotal = this.total;\n    if (this.total < 100) {\n      this.shipping = 0;\n    }\n    if (this.total > 100) {\n      this.shipping = 50;\n    }\n    if (this.total > 100) {\n      this.subtotal = this.total + this.shipping;\n    }\n  }\n  calculateTotalPrice(itemname) {\n    let itemTotal = 0;\n    this.items.map(item => {\n      if (item.itemName == itemname && item.count && item.itemPrice) {\n        itemTotal = item.count * item.itemPrice;\n      }\n    });\n    return itemTotal;\n  }\n};\nCartComponent = __decorate([Component({\n  selector: 'app-cart',\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.css']\n})], CartComponent);\nexport { CartComponent };","map":{"version":3,"mappings":"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","names":["Component","CartComponent","constructor","foodie","console","log","subtotal","data","orderAmount","orderInfo","createPaymentOrder","subscribe","response","status","options","key","amount","currency","name","description","image","order_id","id","handler","alert","razorpay_payment_id","razorpay_order_id","razorpay_signature","prefill","email","contact","notes","address","theme","color","rzp","Razorpay","on","error","code","source","step","reason","metadata","payment_id","open","failure","ngOnInit","localStorage","setItem","getItems","getItem","items","totalPrice","remove","itemName","find","item","undefined","removeItem","add","addItem","responce","total","map","itemPrice","count","reduce","acc","val","shipping","calculateTotalPrice","itemname","itemTotal","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["F:\\CAPSTONE PROJECT- FOODIE APP\\FoodieApplicationFE\\FoodieApplication\\src\\app\\cart\\cart.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Item } from '../model/item';\nimport { FoodieService } from '../service/foodie.service';\nimport { RazorpayResponse } from '../model/razorPay';\nimport { PaymentOrder } from '../model/paymentOrder';\n// import * as Razorpay from 'razorpay';\n\ndeclare var Razorpay:any;\n\n@Component({\n  selector: 'app-cart',\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.css']\n})\nexport class CartComponent implements OnInit{\n  items:Item[]=[];\n  theItem:Item|null=null;\n   total:number=0;\n   subtotal:number=0;\n   shipping:number=0;\n\nconstructor(private foodie:FoodieService){\n}\nngOnInit(): void {\n  localStorage.setItem('jwt',\"eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoidXNlciIsImlhdCI6MTY4MzY5MjE1NiwiZW1haWwiOiJ4QGdtYWlsLmNvbSJ9.ZsvOeR7GhVvwRiLNdcGr0hkIrxvuj0HedD79S9_8-z9lOjG93JILI05KTBkD0fiL3Z1xCQI4cqeWNctpNOykEg\")\n  localStorage.setItem('email',\"x@gmail.com\")\n  \n  this.foodie.getItems(\"incart\",localStorage.getItem('email')).subscribe(response=>{\n    console.log(response);\n    this.items=response; \n    this.totalPrice();     \n  })\n \n}\nremove(itemName?:string){\n  if(itemName!=null){\n    let remove:Item |undefined=this.items.find(item => item.itemName === itemName)\n    console.log(remove);\n    if(remove!=undefined){\n    this.foodie.removeItem(localStorage.getItem('email'),remove).subscribe(response=>{\n      this.ngOnInit();\n      this.totalPrice();\n          });\n    }\n  }\n} \n \nadd(itemName?:string){\n  if(itemName!=null){\n    let add:Item |undefined=this.items.find(item => item.itemName === itemName)\n    console.log(add);\n    if(add!=undefined){\n    this.foodie.addItem(localStorage.getItem('email'),add).subscribe(responce=>{\n      this.ngOnInit();\n      this.totalPrice();\n    })\n    }\n  }\n}\n\ntotalPrice(){\n  this.total = this.items.map(item => {\n    if (item.itemPrice&&item.count) {\n      return item.itemPrice*item.count;\n    }\n    return 0;\n  })\n  .reduce((acc, val) => acc + val, 0);\n  this.subtotal=this.total;\n  if(this.total<100){\n    this.shipping=0;    \n  }\n  if(this.total>100){\n    this.shipping=50;    \n  }\n  if(this.total>100){\n    this.subtotal=this.total+this.shipping;\n  }\n  \n  }\n\n  calculateTotalPrice(itemname: string | undefined): number {\n    let itemTotal = 0;\n    this.items.map((item) => {\n      if (item.itemName == itemname && item.count && item.itemPrice) {\n        itemTotal = item.count * item.itemPrice;\n      }\n    });\n    return itemTotal;\n  }\n  \n   goToPayment =()=>{\n    console.log(\"Payment started...\"+this.subtotal); \n    let data:PaymentOrder={orderAmount:this.subtotal,orderInfo:\"order_request\"};\n    this.foodie.createPaymentOrder(data).subscribe((response:any)=>{\n      console.log(response); \n      if(response.status=='created'){\n        //open payment form\n        var options={\n          key:'rzp_test_pVaEM3TS2Oh7JN',\n          // key_secret: 'KuubExufG6n0XJJ70YNwv7yU',\n          amount:response.amount,\n          currency:'INR',\n          name:'Foodie',\n          description:'order total amount',\n          image:'data:image/png;base64,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',\n          order_id:response.id,\n          handler: function (response:RazorpayResponse){\n            alert(response.razorpay_payment_id);\n            alert(response.razorpay_order_id);\n            alert(response.razorpay_signature)\n            },\n          prefill: {\n            name: \"\",\n            email: \"\",\n            contact: \"\"\n              },\n          notes: {\n            address: \"Razorpay Corporate Office\"\n                \n                },\n          theme: {\n            color: \"#3399cc\"\n                }              \n        };\n        var rzp = new Razorpay(options) as any;\nrzp.on('payment.failed', function (response:any){\nalert(response.error.code);\nalert(response.error.description);\nalert(response.error.source);\nalert(response.error.step);\nalert(response.error.reason);\nalert(response.error.metadata.order_id);\nalert(response.error.metadata.payment_id);\n \n});\nrzp.open();\n      }\n    },failure=>{\n      console.log(failure);\n      alert(\"Something went wrong...\")\n    })\n  }\n  \n\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}