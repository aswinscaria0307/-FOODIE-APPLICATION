{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../service/user.service\";\nimport * as i3 from \"@angular/material/snack-bar\";\nimport * as i4 from \"../service/login.service\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/material/button\";\nimport * as i8 from \"@angular/material/icon\";\nfunction UpdateUserComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Name must be \", ctx_r0.name == null ? null : ctx_r0.name.errors == null ? null : ctx_r0.name.errors[\"minlength\"].requiredLength, \" characters long \");\n  }\n}\nfunction UpdateUserComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtext(1, \" Mobile no, must be start with 7,8 or 9 \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class UpdateUserComponent {\n  constructor(fb, userService, _sanckBar, loginStatus, router) {\n    this.fb = fb;\n    this.userService = userService;\n    this._sanckBar = _sanckBar;\n    this.loginStatus = loginStatus;\n    this.router = router;\n    this.uploadedImage = File;\n    this.userName = \"\";\n    this.fileName = \"\";\n    this.updationForm = this.fb.group({\n      name: ['', [Validators.minLength(3)]],\n      phoneNo: [null, [Validators.pattern(/^[789]\\d{9,9}$/)]]\n    });\n  }\n  ngOnInit() {\n    this.userService.getUserName().subscribe(data => {\n      this.userName = data.name;\n      console.log(this.userName);\n      this.userName = data.name;\n      this.userPhone = data.phoneNo;\n      this.updationForm.patchValue({\n        name: this.userName,\n        phoneNo: this.userPhone\n      });\n    });\n  }\n  get name() {\n    return this.updationForm.get('name');\n  }\n  get phone() {\n    return this.updationForm.get('phoneNo');\n  }\n  onImageUpload(event) {\n    const userImg = event.target.files[0];\n    console.log(userImg);\n    if (userImg) {\n      this.uploadedImage = userImg;\n      this.fileName = userImg.name;\n    } else {\n      this.uploadedImage = null;\n      this.fileName = \"\";\n    }\n  }\n  updateUser() {\n    const userData = this.updationForm.value;\n    const fData = new FormData();\n    // form data alway supports string file\n    fData.append('userInfo', JSON.stringify(userData));\n    fData.append('file', this.uploadedImage);\n    this.userService.updateUser(fData).subscribe({\n      next: data => {\n        this._sanckBar.open('Updated successfully.....', 'success', {\n          duration: 3000,\n          panelClass: ['mat-toolbar', 'blue']\n        });\n        this.router.navigate(['/profile']);\n        //\n        this.loginStatus.userLoggedIn.emit(true);\n      },\n      error(err) {\n        alert('not updated');\n      }\n    });\n  }\n}\nUpdateUserComponent.ɵfac = function UpdateUserComponent_Factory(t) {\n  return new (t || UpdateUserComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.UserService), i0.ɵɵdirectiveInject(i3.MatSnackBar), i0.ɵɵdirectiveInject(i4.LoginService), i0.ɵɵdirectiveInject(i5.Router));\n};\nUpdateUserComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UpdateUserComponent,\n  selectors: [[\"app-update-user\"]],\n  decls: 30,\n  vars: 5,\n  consts: [[\"id\", \"registration\"], [\"id\", \"formBx\"], [2, \"text-align\", \"center\"], [3, \"formGroup\", \"ngSubmit\"], [\"id\", \"nameInp\"], [\"type\", \"text\", \"formControlName\", \"name\"], [\"id\", \"err\", 4, \"ngIf\"], [\"id\", \"phoneInp\"], [\"type\", \"number\", \"formControlName\", \"phoneNo\"], [\"id\", \"userInp\"], [\"for\", \"image\", 1, \"file-label\"], [1, \"fa\", \"fa-upload\"], [\"type\", \"file\", \"accept\", \"images/*\", \"id\", \"image\", 1, \"file-input\", 3, \"change\"], [2, \"text-align\", \"center\", \"color\", \"white\"], [\"mat-raised-button\", \"\", \"type\", \"submit\", 3, \"disabled\"], [\"id\", \"clear\"], [\"routerLink\", \"/profile\"], [\"id\", \"err\"]],\n  template: function UpdateUserComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"section\")(2, \"div\", 1)(3, \"h2\", 2);\n      i0.ɵɵtext(4, \"Update Info\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"form\", 3);\n      i0.ɵɵlistener(\"ngSubmit\", function UpdateUserComponent_Template_form_ngSubmit_5_listener() {\n        return ctx.updateUser();\n      });\n      i0.ɵɵelementStart(6, \"div\", 4)(7, \"span\");\n      i0.ɵɵtext(8, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(9, \"input\", 5);\n      i0.ɵɵtemplate(10, UpdateUserComponent_div_10_Template, 2, 1, \"div\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\", 7)(12, \"span\");\n      i0.ɵɵtext(13, \"Phone No.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(14, \"input\", 8);\n      i0.ɵɵtemplate(15, UpdateUserComponent_div_15_Template, 2, 0, \"div\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"div\", 9)(17, \"label\", 10);\n      i0.ɵɵtext(18, \"Upload Image \");\n      i0.ɵɵelement(19, \"i\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"input\", 12);\n      i0.ɵɵlistener(\"change\", function UpdateUserComponent_Template_input_change_20_listener($event) {\n        return ctx.onImageUpload($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(21, \"p\", 13);\n      i0.ɵɵtext(22);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(23, \"br\");\n      i0.ɵɵelementStart(24, \"button\", 14);\n      i0.ɵɵtext(25, \"Update\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(26, \"div\", 15)(27, \"a\", 16)(28, \"mat-icon\");\n      i0.ɵɵtext(29, \"clear\");\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"formGroup\", ctx.updationForm);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.name == null ? null : ctx.name.errors == null ? null : ctx.name.errors[\"minlength\"]);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.phone == null ? null : ctx.phone.errors == null ? null : ctx.phone.errors[\"pattern\"]);\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(ctx.fileName);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", !ctx.updationForm.valid);\n    }\n  },\n  dependencies: [i6.NgIf, i5.RouterLink, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i7.MatButton, i8.MatIcon],\n  styles: [\"#registration[_ngcontent-%COMP%]{\\r\\n\\r\\n    width:100%;\\r\\n    height: 100vh;\\r\\n    margin: auto;\\r\\n    background: linear-gradient(to top,rgb(248, 133, 26),rgb(216, 217, 219));\\r\\n    background-repeat: no-repeat;\\r\\n    background-size:contain;\\r\\n    position: relative;\\r\\n}\\r\\nh2[_ngcontent-%COMP%]{\\r\\n    color: white;\\r\\n    font-family: cursive;\\r\\n    font-size: 22px;\\r\\n    margin-bottom:15px;\\r\\n}\\r\\n#formBx[_ngcontent-%COMP%]{\\r\\n    background-color: rgb(154, 155, 157);\\r\\n    padding: 2%;\\r\\n    border-radius:6%;\\r\\n    position: relative;\\r\\n    top:210px;\\r\\n    margin: auto;\\r\\n    box-shadow:10px 10px 190px -50px;\\r\\n    width:460px;\\r\\n }\\r\\n\\r\\nform[_ngcontent-%COMP%]{\\r\\n    width:400px;\\r\\n    margin: auto;\\r\\n    text-align: center;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n}\\r\\ninput[_ngcontent-%COMP%]{\\r\\n    border-radius:30px;\\r\\n    width: 95%;\\r\\n    padding: 13px 12px;\\r\\n    outline: none;\\r\\n    margin-bottom:6px;\\r\\n    font-size: 15px;\\r\\n}\\r\\n\\r\\n#userInp[_ngcontent-%COMP%]{\\r\\n    border: 1px solid black;\\r\\n    margin-bottom: 50px;\\r\\n    border-radius: 15px;\\r\\n    width: 70%;\\r\\n    margin: auto;\\r\\n }\\r\\n\\r\\n.file-input[_ngcontent-%COMP%] {\\r\\n    display: none; \\r\\n  }\\r\\n  \\r\\n  .file-label[_ngcontent-%COMP%] {\\r\\n    display: inline-block;\\r\\n    padding: 8px 12px;\\r\\n    width: 100%;\\r\\n    background-color: #ac0efb;\\r\\n    border-radius: 15px;\\r\\n    cursor: pointer;\\r\\n    color: white;\\r\\n  }\\r\\n  \\r\\n  .file-label[_ngcontent-%COMP%]:hover {\\r\\n    background-color: #9106d6;\\r\\n  }\\r\\n  \\r\\nspan[_ngcontent-%COMP%]{\\r\\n    color: white;\\r\\n    font-size: 14px;\\r\\n}\\r\\n\\r\\n #err[_ngcontent-%COMP%]{\\r\\n    margin-bottom: 10px;\\r\\n    color: rgb(242, 249, 47);\\r\\n }\\r\\n\\r\\n#nameInp[_ngcontent-%COMP%]{\\r\\n    margin-bottom: 10px;\\r\\n }\\r\\n\\r\\n #clear[_ngcontent-%COMP%]{\\r\\n    \\r\\n    background-color: rgb(255, 0, 132);\\r\\n    width: 50px;\\r\\n    height: 50px;\\r\\n    border-radius: 50%;\\r\\n    text-align: center;\\r\\n    position: absolute;\\r\\n    top: 10px;\\r\\n    right: 10px;\\r\\n\\r\\n }\\r\\n #clear[_ngcontent-%COMP%]:hover{\\r\\n    background-color: rgb(155, 2, 68);\\r\\n }\\r\\n #clear[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{\\r\\n    line-height: 60px;\\r\\n    color: white;\\r\\n    padding: 10px;\\r\\n }\\r\\n \\r\\n\\r\\n\\r\\n @media (max-width:395px) {\\r\\n    #clear[_ngcontent-%COMP%]{\\r\\n        left: 40%;\\r\\n        top: 47vh;\\r\\n        background-color: white;\\r\\n        \\r\\n    }\\r\\n    #clear[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{\\r\\n        color: black;\\r\\n        transition: 0.7s;\\r\\n    }\\r\\n    #clear[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{\\r\\n        color: white;\\r\\n    }\\r\\n }\\r\\n\\r\\n @media (max-width:526px) {\\r\\n    #registration[_ngcontent-%COMP%]{\\r\\n        background-color: rgba(10, 0, 5, 0.534);\\r\\n    }\\r\\n    form[_ngcontent-%COMP%]{\\r\\n        margin: auto;\\r\\n        width:90%;\\r\\n    }\\r\\n    #formBx[_ngcontent-%COMP%]{\\r\\n        width:90%;\\r\\n        border-radius: 3%;\\r\\n        \\r\\n     }\\r\\n }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdXBkYXRlLXVzZXIvdXBkYXRlLXVzZXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7SUFFSSxVQUFVO0lBQ1YsYUFBYTtJQUNiLFlBQVk7SUFDWix3RUFBd0U7SUFDeEUsNEJBQTRCO0lBQzVCLHVCQUF1QjtJQUN2QixrQkFBa0I7QUFDdEI7QUFDQTtJQUNJLFlBQVk7SUFDWixvQkFBb0I7SUFDcEIsZUFBZTtJQUNmLGtCQUFrQjtBQUN0QjtBQUNBO0lBQ0ksb0NBQW9DO0lBQ3BDLFdBQVc7SUFDWCxnQkFBZ0I7SUFDaEIsa0JBQWtCO0lBQ2xCLFNBQVM7SUFDVCxZQUFZO0lBQ1osZ0NBQWdDO0lBQ2hDLFdBQVc7Q0FDZDs7QUFFRDtJQUNJLFdBQVc7SUFDWCxZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLHVCQUF1QjtJQUN2QixtQkFBbUI7QUFDdkI7QUFDQTtJQUNJLGtCQUFrQjtJQUNsQixVQUFVO0lBQ1Ysa0JBQWtCO0lBQ2xCLGFBQWE7SUFDYixpQkFBaUI7SUFDakIsZUFBZTtBQUNuQjs7QUFFQTtJQUNJLHVCQUF1QjtJQUN2QixtQkFBbUI7SUFDbkIsbUJBQW1CO0lBQ25CLFVBQVU7SUFDVixZQUFZO0NBQ2Y7O0FBRUQ7SUFDSSxhQUFhLEVBQUUsMENBQTBDO0VBQzNEOztFQUVBO0lBQ0UscUJBQXFCO0lBQ3JCLGlCQUFpQjtJQUNqQixXQUFXO0lBQ1gseUJBQXlCO0lBQ3pCLG1CQUFtQjtJQUNuQixlQUFlO0lBQ2YsWUFBWTtFQUNkOztFQUVBO0lBQ0UseUJBQXlCO0VBQzNCOztBQUVGO0lBQ0ksWUFBWTtJQUNaLGVBQWU7QUFDbkI7O0NBRUM7SUFDRyxtQkFBbUI7SUFDbkIsd0JBQXdCO0NBQzNCOztBQUVEO0lBQ0ksbUJBQW1CO0NBQ3RCOztDQUVBOztJQUVHLGtDQUFrQztJQUNsQyxXQUFXO0lBQ1gsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixrQkFBa0I7SUFDbEIsa0JBQWtCO0lBQ2xCLFNBQVM7SUFDVCxXQUFXOztDQUVkO0NBQ0E7SUFDRyxpQ0FBaUM7Q0FDcEM7Q0FDQTtJQUNHLGlCQUFpQjtJQUNqQixZQUFZO0lBQ1osYUFBYTtDQUNoQjs7OztDQUlBO0lBQ0c7UUFDSSxTQUFTO1FBQ1QsU0FBUztRQUNULHVCQUF1Qjs7SUFFM0I7SUFDQTtRQUNJLFlBQVk7UUFDWixnQkFBZ0I7SUFDcEI7SUFDQTtRQUNJLFlBQVk7SUFDaEI7Q0FDSDs7Q0FFQTtJQUNHO1FBQ0ksdUNBQXVDO0lBQzNDO0lBQ0E7UUFDSSxZQUFZO1FBQ1osU0FBUztJQUNiO0lBQ0E7UUFDSSxTQUFTO1FBQ1QsaUJBQWlCOztLQUVwQjtDQUNKIiwic291cmNlc0NvbnRlbnQiOlsiI3JlZ2lzdHJhdGlvbntcclxuXHJcbiAgICB3aWR0aDoxMDAlO1xyXG4gICAgaGVpZ2h0OiAxMDB2aDtcclxuICAgIG1hcmdpbjogYXV0bztcclxuICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byB0b3AscmdiKDI0OCwgMTMzLCAyNikscmdiKDIxNiwgMjE3LCAyMTkpKTtcclxuICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XHJcbiAgICBiYWNrZ3JvdW5kLXNpemU6Y29udGFpbjtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG5oMntcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGZvbnQtZmFtaWx5OiBjdXJzaXZlO1xyXG4gICAgZm9udC1zaXplOiAyMnB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbToxNXB4O1xyXG59XHJcbiNmb3JtQnh7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMTU0LCAxNTUsIDE1Nyk7XHJcbiAgICBwYWRkaW5nOiAyJTtcclxuICAgIGJvcmRlci1yYWRpdXM6NiU7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICB0b3A6MjEwcHg7XHJcbiAgICBtYXJnaW46IGF1dG87XHJcbiAgICBib3gtc2hhZG93OjEwcHggMTBweCAxOTBweCAtNTBweDtcclxuICAgIHdpZHRoOjQ2MHB4O1xyXG4gfVxyXG5cclxuZm9ybXtcclxuICAgIHdpZHRoOjQwMHB4O1xyXG4gICAgbWFyZ2luOiBhdXRvO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcbmlucHV0e1xyXG4gICAgYm9yZGVyLXJhZGl1czozMHB4O1xyXG4gICAgd2lkdGg6IDk1JTtcclxuICAgIHBhZGRpbmc6IDEzcHggMTJweDtcclxuICAgIG91dGxpbmU6IG5vbmU7XHJcbiAgICBtYXJnaW4tYm90dG9tOjZweDtcclxuICAgIGZvbnQtc2l6ZTogMTVweDtcclxufVxyXG5cclxuI3VzZXJJbnB7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcclxuICAgIG1hcmdpbi1ib3R0b206IDUwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xyXG4gICAgd2lkdGg6IDcwJTtcclxuICAgIG1hcmdpbjogYXV0bztcclxuIH1cclxuXHJcbi5maWxlLWlucHV0IHtcclxuICAgIGRpc3BsYXk6IG5vbmU7IC8qIHRoaXMgd2lsbCBoaWRlIHRodyBkZWZhdWx0IGZpbGUgaW5wdXQgKi9cclxuICB9XHJcbiAgXHJcbiAgLmZpbGUtbGFiZWwge1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgcGFkZGluZzogOHB4IDEycHg7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNhYzBlZmI7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gIH1cclxuICBcclxuICAuZmlsZS1sYWJlbDpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjOTEwNmQ2O1xyXG4gIH1cclxuICBcclxuc3BhbntcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGZvbnQtc2l6ZTogMTRweDtcclxufVxyXG5cclxuICNlcnJ7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gICAgY29sb3I6IHJnYigyNDIsIDI0OSwgNDcpO1xyXG4gfVxyXG5cclxuI25hbWVJbnB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gfVxyXG5cclxuICNjbGVhcntcclxuICAgIFxyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1NSwgMCwgMTMyKTtcclxuICAgIHdpZHRoOiA1MHB4O1xyXG4gICAgaGVpZ2h0OiA1MHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAxMHB4O1xyXG4gICAgcmlnaHQ6IDEwcHg7XHJcblxyXG4gfVxyXG4gI2NsZWFyOmhvdmVye1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDE1NSwgMiwgNjgpO1xyXG4gfVxyXG4gI2NsZWFyIGF7XHJcbiAgICBsaW5lLWhlaWdodDogNjBweDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiB9XHJcbiBcclxuXHJcblxyXG4gQG1lZGlhIChtYXgtd2lkdGg6Mzk1cHgpIHtcclxuICAgICNjbGVhcntcclxuICAgICAgICBsZWZ0OiA0MCU7XHJcbiAgICAgICAgdG9wOiA0N3ZoO1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG4gICAgI2NsZWFyIGF7XHJcbiAgICAgICAgY29sb3I6IGJsYWNrO1xyXG4gICAgICAgIHRyYW5zaXRpb246IDAuN3M7XHJcbiAgICB9XHJcbiAgICAjY2xlYXIgYTpob3ZlcntcclxuICAgICAgICBjb2xvcjogd2hpdGU7XHJcbiAgICB9XHJcbiB9XHJcblxyXG4gQG1lZGlhIChtYXgtd2lkdGg6NTI2cHgpIHtcclxuICAgICNyZWdpc3RyYXRpb257XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxMCwgMCwgNSwgMC41MzQpO1xyXG4gICAgfVxyXG4gICAgZm9ybXtcclxuICAgICAgICBtYXJnaW46IGF1dG87XHJcbiAgICAgICAgd2lkdGg6OTAlO1xyXG4gICAgfVxyXG4gICAgI2Zvcm1CeHtcclxuICAgICAgICB3aWR0aDo5MCU7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMyU7XHJcbiAgICAgICAgXHJcbiAgICAgfVxyXG4gfSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["Validators","i0","UpdateUserComponent","constructor","fb","userService","_sanckBar","loginStatus","router","File","group","name","minLength","phoneNo","pattern","ngOnInit","getUserName","subscribe","data","userName","console","log","userPhone","updationForm","patchValue","get","phone","onImageUpload","event","userImg","target","files","uploadedImage","fileName","updateUser","userData","value","fData","FormData","append","JSON","stringify","next","open","duration","panelClass","navigate","userLoggedIn","emit","error","err","alert","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["F:\\CAPSTONE PROJECT- FOODIE APP\\FoodieApplicationFE\\FoodieApplication\\src\\app\\update-user\\update-user.component.ts","F:\\CAPSTONE PROJECT- FOODIE APP\\FoodieApplicationFE\\FoodieApplication\\src\\app\\update-user\\update-user.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AbstractControl, FormBuilder, Validators } from '@angular/forms';\nimport { UserService } from '../service/user.service';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { LoginService } from '../service/login.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-update-user',\n  templateUrl: './update-user.component.html',\n  styleUrls: ['./update-user.component.css']\n})\nexport class UpdateUserComponent implements OnInit {\n  responseData:any;\n  public uploadedImage:any=File;\n  userName:string=\"\";\n  userPhone:any;\n  fileName:string=\"\";\n\n  constructor(private fb:FormBuilder,\n    private userService:UserService,\n    private _sanckBar:MatSnackBar,\n    private loginStatus:LoginService,private router:Router){}\n\n  ngOnInit(): void {\n    this.userService.getUserName().subscribe((data:any)=>{\n      this.userName = data.name;\n      console.log(this.userName);\n      \n      this.userName = data.name;\n      this.userPhone = data.phoneNo;\n\n      this.updationForm.patchValue({\n        name: this.userName,\n        phoneNo: this.userPhone\n      });\n     })\n  }\n\n  updationForm = this.fb.group({\n    \n    name:['',[Validators.minLength(3)]],\n    phoneNo:[null,[Validators.pattern(/^[789]\\d{9,9}$/)]]\n    \n  })\n\n  get name(){\n    return this.updationForm.get('name');\n  }\n\n  get phone(){\n    return this.updationForm.get('phoneNo');\n  }\n\n  public onImageUpload(event:any) {\n   const userImg = event.target.files[0];\n   console.log(userImg);\n   if(userImg){\n    this.uploadedImage = userImg;\n    this.fileName = userImg.name;\n   }\n   else{\n    this.uploadedImage = null;\n    this.fileName=\"\";\n   }\n\n  }\n\n  updateUser(){\n\n    const userData = this.updationForm.value;    \n    const fData = new FormData();\n    // form data alway supports string file\n    fData.append('userInfo', JSON.stringify(userData));\n    fData.append('file',this.uploadedImage);\n\n    this.userService.updateUser(fData).subscribe({\n      next:data=>{\n        this._sanckBar.open('Updated successfully.....', 'success', {\n          duration: 3000,\n          panelClass: ['mat-toolbar', 'blue']\n        });\n        this.router.navigate(['/profile']);\n        //\n        this.loginStatus.userLoggedIn.emit(true);\n      },error(err) {\n        alert('not updated')\n      },\n    })\n  }\n\n}\n","<div id=\"registration\">\n    <section>\n\n    <div id=\"formBx\">\n        <h2 style=\"text-align: center;\">Update Info</h2>\n    <form (ngSubmit)=\"updateUser()\" [formGroup]=\" updationForm\">\n  \n    <!-- email -->\n    <!-- <div id=\"emailInp\">\n        <span>Email &nbsp;</span>\n        <input type=\"text\"formControlName=\"email\">\n        <div id=\"err\" *ngIf=\"email?.errors?.['required'] && email?.dirty\">\n            Email is required\n        </div>\n        <div id=\"err\" *ngIf=\"email?.errors?.['checkIfGuestEmailsAreValid']===false && email?.dirty\">\n           Not a valid email \n        </div>\n    </div> -->\n    <!-- name -->\n    <div id=\"nameInp\">\n        <span>Name</span>\n        <input type=\"text\"  formControlName=\"name\">\n    \n        <div id=\"err\" *ngIf=\"name?.errors?.['minlength']\">\n            Name must be {{name?.errors?.['minlength'].requiredLength}} characters long\n        </div>\n    </div>\n    <!-- Phone -->\n    <div id=\"phoneInp\">\n        <span>Phone No.</span>\n        <input type=\"number\" formControlName=\"phoneNo\">\n    \n        <div id=\"err\" *ngIf=\"phone?.errors?.['pattern']\">\n           Mobile no, must be start with 7,8 or 9\n        </div>\n    </div>\n\n    <div id=\"userInp\">\n        <label for=\"image\" class=\"file-label\">Upload Image <i class=\"fa fa-upload\"></i></label>\n        <input type=\"file\" accept=\"images/*\" (change)=\"onImageUpload($event)\" id=\"image\" class=\"file-input\">\n    </div>\n    <p style=\"text-align: center;color: white;\">{{fileName}}</p>\n\n    <br>\n    <button mat-raised-button type=\"submit\" [disabled]=\"! updationForm.valid\">Update</button>\n</form>\n\n<div id=\"clear\">\n    <a routerLink=\"/profile\"><mat-icon>clear</mat-icon></a>\n</div>\n</div>\n</section>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}