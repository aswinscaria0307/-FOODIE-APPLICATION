{"ast":null,"code":"import { Order } from '../model/order';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/restaurant-service.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../service/login.service\";\nimport * as i4 from \"../service/foodie.service\";\nimport * as i5 from \"../service/user.service\";\nimport * as i6 from \"@angular/material/snack-bar\";\nexport class ViewItemsComponent {\n  constructor(restaurant, route, login, foodie, userService, _sanckBar) {\n    this.restaurant = restaurant;\n    this.route = route;\n    this.login = login;\n    this.foodie = foodie;\n    this.userService = userService;\n    this._sanckBar = _sanckBar;\n    this.fav = false;\n    this.restaurantItems = [];\n  }\n  ngOnInit() {\n    this.data = 51;\n    this.restaurantId = this.restaurant.id;\n    this.restaurant.getAllItems(+this.restaurantId).subscribe(data => {\n      this.restaurantItems = data;\n    });\n  }\n  addToFavourites(itemData) {\n    if (this.fav == false) {\n      if (this.login.isLoggedIn) {\n        this.userService.addItemToFavourites(itemData).subscribe({\n          next: data => {\n            this.fav = true;\n            this._sanckBar.open(`${itemData.itemName} is added on your Favourites`, 'success', {\n              duration: 3000,\n              panelClass: ['mat-toolbar', 'mat-primary']\n            });\n          },\n          error(err) {\n            alert(\"Not added to favourites!\");\n          }\n        });\n      } else {\n        this.route.navigateByUrl(\"/login\");\n      }\n    }\n    this.check(itemData.itemId);\n  }\n  addToCart(theItem) {\n    if (this.login.isLoggedIn) {\n      this.addtocart = new Order();\n      this.addtocart.customerId = localStorage.getItem('email') ?? '';\n      this.addtocart.billingAddress = localStorage.getItem(\"address\") ?? '';\n      if (theItem) {\n        console.log(theItem);\n        theItem.status = \"incart\";\n        theItem.count = 1;\n        if (!this.addtocart.items) {\n          this.addtocart.items = [];\n        }\n        this.addtocart.items = this.addtocart.items.concat(theItem);\n        this.foodie.insertOrder(this.addtocart).subscribe(data => {\n          this._sanckBar.open(`Item Added to Cart`, 'success', {\n            duration: 3000,\n            panelClass: ['mat-toolbar', 'mat-primary']\n          });\n        });\n      } else this.route.navigateByUrl(\"/login\");\n    } else {\n      this.route.navigateByUrl(\"/login\");\n    }\n  }\n  check(itemId) {\n    console.log(\"called\");\n    this.userService.checkFavourite(itemId).subscribe(data => {\n      if (data == true) {\n        if (this.fav) {\n          this.fav = false;\n          this.userService.removeFavourite(itemId).subscribe(data => {\n            this._sanckBar.open(`Item Removed from favorites`, 'success', {\n              duration: 3000,\n              panelClass: ['mat-toolbar', 'mat-primary']\n            });\n          });\n        } else {\n          this.fav = true;\n        }\n      }\n    });\n  }\n}\nViewItemsComponent.ɵfac = function ViewItemsComponent_Factory(t) {\n  return new (t || ViewItemsComponent)(i0.ɵɵdirectiveInject(i1.RestaurantServiceService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.LoginService), i0.ɵɵdirectiveInject(i4.FoodieService), i0.ɵɵdirectiveInject(i5.UserService), i0.ɵɵdirectiveInject(i6.MatSnackBar));\n};\nViewItemsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ViewItemsComponent,\n  selectors: [[\"app-view-items\"]],\n  decls: 0,\n  vars: 0,\n  template: function ViewItemsComponent_Template(rf, ctx) {},\n  styles: [\".example-card[_ngcontent-%COMP%] {\\r\\n  max-width: 400px;\\r\\n  display: inline-block;\\r\\n  margin-left: 150px;\\r\\n  margin: 50px;\\r\\n  padding-top: 10px;\\r\\n  padding-bottom: 14px;\\r\\n  border-radius: 15px;\\r\\n}\\r\\nh3[_ngcontent-%COMP%]{\\r\\n  font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;\\r\\n  font-weight: bold;\\r\\n}\\r\\n.example-card[_ngcontent-%COMP%]:hover {\\r\\n  background-color: #e5e5e5;\\r\\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\\r\\n}\\r\\n  .github-star-badge[_ngcontent-%COMP%] {\\r\\n  color: #24292e;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  font-size: 20px;\\r\\n  padding: 3px 10px;\\r\\n  font-weight: 800;\\r\\n  font-family: cursive;\\r\\n}\\r\\n\\r\\n.github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%] {\\r\\n  height: 16px;\\r\\n  width: 16px;\\r\\n  margin-right: 4px;\\r\\n  color: white;\\r\\n}\\r\\nh1[_ngcontent-%COMP%]{\\r\\n  color: rgb(0, 0, 0);\\r\\n  font-family: cursive;\\r\\n  font-weight: bold;\\r\\n  padding-top: 15px;\\r\\n}\\r\\n#image[_ngcontent-%COMP%]{\\r\\n  border-radius: 15px;\\r\\n}\\r\\n\\r\\n.background[_ngcontent-%COMP%]{\\r\\n  width: 100%;\\r\\n  background-size: cover;\\r\\n  height: 100%;\\r\\n  background-repeat: no-repeat;\\r\\n  \\r\\n  \\r\\n  \\r\\n  \\r\\n\\r\\n\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdmlldy1pdGVtcy92aWV3LWl0ZW1zLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBZ0I7RUFDaEIscUJBQXFCO0VBQ3JCLGtCQUFrQjtFQUNsQixZQUFZO0VBQ1osaUJBQWlCO0VBQ2pCLG9CQUFvQjtFQUNwQixtQkFBbUI7QUFDckI7QUFDQTtFQUNFLDZFQUE2RTtFQUM3RSxpQkFBaUI7QUFDbkI7QUFDQTtFQUNFLHlCQUF5QjtFQUN6Qix3Q0FBd0M7QUFDMUM7RUFDRTtFQUNBLGNBQWM7RUFDZCxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLGVBQWU7RUFDZixpQkFBaUI7RUFDakIsZ0JBQWdCO0VBQ2hCLG9CQUFvQjtBQUN0Qjs7QUFFQTtFQUNFLFlBQVk7RUFDWixXQUFXO0VBQ1gsaUJBQWlCO0VBQ2pCLFlBQVk7QUFDZDtBQUNBO0VBQ0UsbUJBQW1CO0VBQ25CLG9CQUFvQjtFQUNwQixpQkFBaUI7RUFDakIsaUJBQWlCO0FBQ25CO0FBQ0E7RUFDRSxtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsc0JBQXNCO0VBQ3RCLFlBQVk7RUFDWiw0QkFBNEI7RUFDNUIsMkJBQTJCO0VBQzNCLDRNQUE0TTtFQUM1TSw4RUFBOEU7RUFDOUUsZ0ZBQWdGOzs7QUFHbEYiLCJzb3VyY2VzQ29udGVudCI6WyIuZXhhbXBsZS1jYXJkIHtcclxuICBtYXgtd2lkdGg6IDQwMHB4O1xyXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICBtYXJnaW4tbGVmdDogMTUwcHg7XHJcbiAgbWFyZ2luOiA1MHB4O1xyXG4gIHBhZGRpbmctdG9wOiAxMHB4O1xyXG4gIHBhZGRpbmctYm90dG9tOiAxNHB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDE1cHg7XHJcbn1cclxuaDN7XHJcbiAgZm9udC1mYW1pbHk6ICdHaWxsIFNhbnMnLCAnR2lsbCBTYW5zIE1UJywgQ2FsaWJyaSwgJ1RyZWJ1Y2hldCBNUycsIHNhbnMtc2VyaWY7XHJcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbn1cclxuLmV4YW1wbGUtY2FyZDpob3ZlciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2U1ZTVlNTtcclxuICBib3gtc2hhZG93OiAwIDRweCA4cHggcmdiYSgwLCAwLCAwLCAwLjIpO1xyXG59XHJcbiAgLmdpdGh1Yi1zdGFyLWJhZGdlIHtcclxuICBjb2xvcjogIzI0MjkyZTtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgZm9udC1zaXplOiAyMHB4O1xyXG4gIHBhZGRpbmc6IDNweCAxMHB4O1xyXG4gIGZvbnQtd2VpZ2h0OiA4MDA7XHJcbiAgZm9udC1mYW1pbHk6IGN1cnNpdmU7XHJcbn1cclxuXHJcbi5naXRodWItc3Rhci1iYWRnZSAubWF0ZXJpYWwtaWNvbnMge1xyXG4gIGhlaWdodDogMTZweDtcclxuICB3aWR0aDogMTZweDtcclxuICBtYXJnaW4tcmlnaHQ6IDRweDtcclxuICBjb2xvcjogd2hpdGU7XHJcbn1cclxuaDF7XHJcbiAgY29sb3I6IHJnYigwLCAwLCAwKTtcclxuICBmb250LWZhbWlseTogY3Vyc2l2ZTtcclxuICBmb250LXdlaWdodDogYm9sZDtcclxuICBwYWRkaW5nLXRvcDogMTVweDtcclxufVxyXG4jaW1hZ2V7XHJcbiAgYm9yZGVyLXJhZGl1czogMTVweDtcclxufVxyXG5cclxuLmJhY2tncm91bmR7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcclxuICAvKiBiYWNrZ3JvdW5kLXBvc2l0aW9uOiA7ICovXHJcbiAgLyogYmFja2dyb3VuZC1pbWFnZTogaW1hZ2Utc2V0KFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE2MDY5MTQ1MDE0OTEtN2IxMWQ1NGYyMzJmP2l4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4bGVIQnNiM0psTFdabFpXUjhOelY4Zkh4bGJud3dmSHg4Zkh3JTNEJmF1dG89Zm9ybWF0JmZpdD1jcm9wJnc9NTAwJnE9NjBcIik7ICovXHJcbiAgLyogYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCAjMDAwMDAwNzksIHJnYmEoODcsIDkwLCAyLCAwLjY1MSkpOyAqL1xyXG4gIC8qIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byByaWdodCwgcmdiKDI0OSwgMjA4LCAyNCkscmdiKDE0NSwgNTYsIDIxOCkpOyAqL1xyXG5cclxuXHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["Order","ViewItemsComponent","constructor","restaurant","route","login","foodie","userService","_sanckBar","ngOnInit","data","restaurantId","id","getAllItems","subscribe","restaurantItems","addToFavourites","itemData","fav","isLoggedIn","addItemToFavourites","next","open","itemName","duration","panelClass","error","err","alert","navigateByUrl","check","itemId","addToCart","theItem","addtocart","customerId","localStorage","getItem","billingAddress","console","log","status","count","items","concat","insertOrder","checkFavourite","removeFavourite","selectors","decls","vars","template","styles"],"sourceRoot":"","sources":["F:\\CAPSTONE PROJECT- FOODIE APP\\FoodieApplicationFE\\FoodieApplication\\src\\app\\view-items\\view-items.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { RestaurantServiceService } from '../service/restaurant-service.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { LoginService } from '../service/login.service';\nimport { Order } from '../model/order';\nimport { Item } from '../model/item';\nimport { FoodieService } from '../service/foodie.service';\nimport { UserService } from '../service/user.service';\nimport { MatSnackBar } from '@angular/material/snack-bar';\n\n@Component({\n  selector: 'app-view-items',\n  templateUrl: './view-items.component.html',\n  styleUrls: ['./view-items.component.css']\n})\nexport class ViewItemsComponent implements OnInit{\n  constructor(private restaurant:RestaurantServiceService,private route:Router,private login:LoginService,private foodie:FoodieService,private userService:UserService,private _sanckBar:MatSnackBar){}\n  addtocart!:Order;\n  fav:boolean=false;\n  itemId!:boolean;\n  data:number | undefined;\n  restaurantItems:any=[];\n  restaurantId!: number;\n  ngOnInit(): void {\n    this.data = 51;\n    this.restaurantId = this.restaurant.id;\n    this.restaurant.getAllItems(+this.restaurantId).subscribe(data=>{      \n      this.restaurantItems = data;\n    })\n  }\n\naddToFavourites(itemData:any){\n  if(this.fav==false){\n  if(this.login.isLoggedIn){\n  this.userService.addItemToFavourites(itemData).subscribe({\n    next:data=>{this.fav=true;\n      this._sanckBar.open(`${itemData.itemName} is added on your Favourites`, 'success', {\n        duration: 3000,\n        panelClass: ['mat-toolbar', 'mat-primary']\n      });\n    },error(err) {\n          alert(\"Not added to favourites!\");\n    },\n  })\n}else{\n  this.route.navigateByUrl(\"/login\");\n}\n  }\nthis.check(itemData.itemId);\n}\n          \naddToCart(theItem:any){\n  if(this.login.isLoggedIn){\n    this.addtocart = new Order();\n    this.addtocart.customerId = localStorage.getItem('email') ?? '';\n    this.addtocart.billingAddress=localStorage.getItem(\"address\")?? '';\n    if (theItem) {\n      console.log(theItem);\n      theItem.status=\"incart\";\n      theItem.count=1;\n      if (!this.addtocart.items) {\n        this.addtocart.items = [];\n      }\n      this.addtocart.items = this.addtocart.items.concat(theItem);\n      this.foodie.insertOrder(this.addtocart).subscribe(data=>{\n        this._sanckBar.open(`Item Added to Cart`, 'success', {\n          duration: 3000,\n          panelClass: ['mat-toolbar', 'mat-primary']\n        });\n      });\n      }else\n  this.route.navigateByUrl(\"/login\");\n}  else{this.route.navigateByUrl(\"/login\");}\n}\ncheck(itemId:any){\n  console.log(\"called\");\n this.userService.checkFavourite(itemId).subscribe(data=>{\n    if(data==true){\n      if(this.fav){\n        this.fav=false;\n        this.userService.removeFavourite(itemId).subscribe(data=>{\n          this._sanckBar.open(`Item Removed from favorites`, 'success', {\n            duration: 3000,\n            panelClass: ['mat-toolbar', 'mat-primary']\n          });\n        })\n      }else{\n        this.fav=true;\n      }\n    }\n  });\n}\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}