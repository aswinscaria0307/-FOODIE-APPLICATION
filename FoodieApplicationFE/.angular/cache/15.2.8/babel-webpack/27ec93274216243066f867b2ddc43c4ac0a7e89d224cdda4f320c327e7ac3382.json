{"ast":null,"code":"import { Order } from '../model/order';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/user.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../service/login.service\";\nimport * as i4 from \"../service/foodie.service\";\nimport * as i5 from \"@angular/material/snack-bar\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/material/button\";\nfunction FavouritesComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵelement(1, \"img\", 4);\n    i0.ɵɵelementStart(2, \"div\", 5)(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 6);\n    i0.ɵɵtext(6);\n    i0.ɵɵelement(7, \"i\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\", 8);\n    i0.ɵɵtext(9, \"Price: \");\n    i0.ɵɵelement(10, \"i\", 9);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 10)(13, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function FavouritesComponent_div_5_Template_button_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const list_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.addToOrder(list_r1));\n    });\n    i0.ɵɵtext(14, \"Order\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 12);\n    i0.ɵɵlistener(\"click\", function FavouritesComponent_div_5_Template_div_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const list_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.removeItem(list_r1.itemId));\n    });\n    i0.ɵɵelement(16, \"i\", 13);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const list_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", list_r1.imageUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(list_r1.itemName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(list_r1.itemRating);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(list_r1.itemPrice);\n  }\n}\nexport class FavouritesComponent {\n  constructor(userSer, router, login, foodie, userService, _sanckBar) {\n    this.userSer = userSer;\n    this.router = router;\n    this.login = login;\n    this.foodie = foodie;\n    this.userService = userService;\n    this._sanckBar = _sanckBar;\n  }\n  ngOnInit() {\n    this.userSer.getListOfFavourites().subscribe({\n      next: data => {\n        console.log(data);\n        this.favList = data;\n      }\n    });\n  }\n  removeItem(data) {\n    this.userSer.removeFavourite(data).subscribe({\n      next: data => {\n        console.log(\"item removed\");\n        this.ngOnInit();\n        this.router.navigateByUrl(\"/favourite\");\n      }\n    });\n  }\n  addToOrder(theItem) {\n    if (this.login.isLoggedIn) {\n      this.addtocart = new Order();\n      this.addtocart.customerId = localStorage.getItem('email') ?? '';\n      this.addtocart.billingAddress = localStorage.getItem(\"address\") ?? '';\n      // let item:any=this.restaurantItems.find((item: { itemName: string; })=>item.itemName==itemName)\n      if (theItem) {\n        console.log(theItem);\n        theItem.status = \"incart\";\n        theItem.count = 1;\n        if (!this.addtocart.items) {\n          this.addtocart.items = [];\n        }\n        this.addtocart.items = this.addtocart.items.concat(theItem);\n        this.foodie.insertOrder(this.addtocart).subscribe(data => {\n          this._sanckBar.open(`Item Added to Cart`, 'success', {\n            duration: 3000,\n            panelClass: ['mat-toolbar', 'mat-primary']\n          });\n        });\n      }\n    }\n  }\n}\nFavouritesComponent.ɵfac = function FavouritesComponent_Factory(t) {\n  return new (t || FavouritesComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.LoginService), i0.ɵɵdirectiveInject(i4.FoodieService), i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i5.MatSnackBar));\n};\nFavouritesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FavouritesComponent,\n  selectors: [[\"app-favourites\"]],\n  decls: 6,\n  vars: 1,\n  consts: [[\"id\", \"main\"], [\"id\", \"mainCardCont\"], [\"class\", \"card\", 4, \"ngFor\", \"ngForOf\"], [1, \"card\"], [\"alt\", \"\", 3, \"src\"], [1, \"cardContent\"], [\"id\", \"rating\"], [1, \"fa\", \"fa-star\"], [\"id\", \"price\"], [1, \"fa\", \"fa-rupee\"], [\"id\", \"order\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\"], [\"id\", \"icon\", 3, \"click\"], [1, \"fa\", \"fa-trash-o\"]],\n  template: function FavouritesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\")(1, \"h1\");\n      i0.ɵɵtext(2, \"Favourites\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(3, \"div\", 0)(4, \"div\", 1);\n      i0.ɵɵtemplate(5, FavouritesComponent_div_5_Template, 17, 4, \"div\", 2);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngForOf\", ctx.favList);\n    }\n  },\n  dependencies: [i6.NgForOf, i7.MatButton],\n  styles: [\"@import url(https://fonts.googleapis.com/css2?family=Goldman:wght@700&display=swap);h1[_ngcontent-%COMP%]{\\r\\n    font-family: Goldman;\\r\\n    text-align: center;\\r\\n    font-size: 35px;\\r\\n}\\r\\n#main[_ngcontent-%COMP%]{\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n#mainCardCont[_ngcontent-%COMP%]{\\r\\n    width: 71%;\\r\\n    height: auto;\\r\\n    margin: auto;\\r\\n}\\r\\n\\r\\n.card[_ngcontent-%COMP%]{\\r\\n    width:240px;\\r\\n    height: 290px;\\r\\n    display: inline-block;\\r\\n    margin: 15px;\\r\\n    border-radius: 6px;\\r\\n    text-align: center;\\r\\n    position: relative;\\r\\n    transition: ease 0.6s;\\r\\n    box-shadow:1px 2px 40px -10px;\\r\\n}\\r\\n\\r\\n.card[_ngcontent-%COMP%]:hover{\\r\\nscale: 1.02;\\r\\n}\\r\\n\\r\\nimg[_ngcontent-%COMP%]{\\r\\n    width:100%;\\r\\n    height: 150px;\\r\\n} \\r\\n\\r\\nspan[_ngcontent-%COMP%]{\\r\\n    font-weight: 600;\\r\\n    font-size: 16px;\\r\\n}\\r\\n\\r\\n#price[_ngcontent-%COMP%]{\\r\\n    position: absolute;\\r\\n    top: 200px;\\r\\n    left: 20px;\\r\\n}\\r\\n\\r\\n#rating[_ngcontent-%COMP%]{\\r\\n    position: absolute;\\r\\n    top: 200px;\\r\\n    right: 20px;\\r\\n}\\r\\n#rating[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{\\r\\n    color: gold;\\r\\n}\\r\\n\\r\\n#icon[_ngcontent-%COMP%]{\\r\\n    position: absolute;\\r\\n    top: 240px;\\r\\n    right: 25px;\\r\\n}\\r\\n\\r\\n#icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{\\r\\n    font-size: 17px;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n#order[_ngcontent-%COMP%]{\\r\\n    position: absolute;\\r\\n    top: 230px;\\r\\n    left: 25px;\\r\\n\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmF2b3VyaXRlcy9mYXZvdXJpdGVzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7SUFDSSxvQkFBb0I7SUFDcEIsa0JBQWtCO0lBQ2xCLGVBQWU7QUFDbkI7QUFDQTtJQUNJLFdBQVc7QUFDZjs7QUFFQTtJQUNJLFVBQVU7SUFDVixZQUFZO0lBQ1osWUFBWTtBQUNoQjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxhQUFhO0lBQ2IscUJBQXFCO0lBQ3JCLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsa0JBQWtCO0lBQ2xCLGtCQUFrQjtJQUNsQixxQkFBcUI7SUFDckIsNkJBQTZCO0FBQ2pDOztBQUVBO0FBQ0EsV0FBVztBQUNYOztBQUVBO0lBQ0ksVUFBVTtJQUNWLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxnQkFBZ0I7SUFDaEIsZUFBZTtBQUNuQjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixVQUFVO0lBQ1YsVUFBVTtBQUNkOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLFVBQVU7SUFDVixXQUFXO0FBQ2Y7QUFDQTtJQUNJLFdBQVc7QUFDZjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixVQUFVO0lBQ1YsV0FBVztBQUNmOztBQUVBO0lBQ0ksZUFBZTtJQUNmLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsVUFBVTtJQUNWLFVBQVU7O0FBRWQiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0IHVybCgnaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1Hb2xkbWFuOndnaHRANzAwJmRpc3BsYXk9c3dhcCcpO1xyXG5oMXtcclxuICAgIGZvbnQtZmFtaWx5OiBHb2xkbWFuO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgZm9udC1zaXplOiAzNXB4O1xyXG59XHJcbiNtYWlue1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbiNtYWluQ2FyZENvbnR7XHJcbiAgICB3aWR0aDogNzElO1xyXG4gICAgaGVpZ2h0OiBhdXRvO1xyXG4gICAgbWFyZ2luOiBhdXRvO1xyXG59XHJcblxyXG4uY2FyZHtcclxuICAgIHdpZHRoOjI0MHB4O1xyXG4gICAgaGVpZ2h0OiAyOTBweDtcclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgIG1hcmdpbjogMTVweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDZweDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIHRyYW5zaXRpb246IGVhc2UgMC42cztcclxuICAgIGJveC1zaGFkb3c6MXB4IDJweCA0MHB4IC0xMHB4O1xyXG59XHJcblxyXG4uY2FyZDpob3Zlcntcclxuc2NhbGU6IDEuMDI7XHJcbn1cclxuXHJcbmltZ3tcclxuICAgIHdpZHRoOjEwMCU7XHJcbiAgICBoZWlnaHQ6IDE1MHB4O1xyXG59IFxyXG5cclxuc3BhbntcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICBmb250LXNpemU6IDE2cHg7XHJcbn1cclxuXHJcbiNwcmljZXtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMjAwcHg7XHJcbiAgICBsZWZ0OiAyMHB4O1xyXG59XHJcblxyXG4jcmF0aW5ne1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAyMDBweDtcclxuICAgIHJpZ2h0OiAyMHB4O1xyXG59XHJcbiNyYXRpbmcgaXtcclxuICAgIGNvbG9yOiBnb2xkO1xyXG59XHJcblxyXG4jaWNvbntcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMjQwcHg7XHJcbiAgICByaWdodDogMjVweDtcclxufVxyXG5cclxuI2ljb24gaXtcclxuICAgIGZvbnQtc2l6ZTogMTdweDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG5cclxuI29yZGVye1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAyMzBweDtcclxuICAgIGxlZnQ6IDI1cHg7XHJcblxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["Order","i0","FavouritesComponent","constructor","userSer","router","login","foodie","userService","_sanckBar","ngOnInit","getListOfFavourites","subscribe","next","data","console","log","favList","removeItem","removeFavourite","navigateByUrl","addToOrder","theItem","isLoggedIn","addtocart","customerId","localStorage","getItem","billingAddress","status","count","items","concat","insertOrder","open","duration","panelClass","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["F:\\CAPSTONE PROJECT- FOODIE APP\\FoodieApplicationFE\\FoodieApplication\\src\\app\\favourites\\favourites.component.ts","F:\\CAPSTONE PROJECT- FOODIE APP\\FoodieApplicationFE\\FoodieApplication\\src\\app\\favourites\\favourites.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { UserService } from '../service/user.service';\nimport { Router } from '@angular/router';\nimport { LoginService } from '../service/login.service';\nimport { FoodieService } from '../service/foodie.service';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { Order } from '../model/order';\n@Component({\n  selector: 'app-favourites',\n  templateUrl: './favourites.component.html',\n  styleUrls: ['./favourites.component.css']\n})\nexport class FavouritesComponent implements OnInit  {\n  favList:any;\n  addtocart!:Order;\n\n  constructor(private userSer:UserService,private router:Router,private login:LoginService,private foodie:FoodieService,private userService:UserService,private _sanckBar:MatSnackBar){}\n\n  ngOnInit(): void {\n    this.userSer.getListOfFavourites().subscribe({\n      next:data=>{\n        console.log(data);\n         this.favList = data;\n      } \n    })\n    \n  }\n  removeItem(data:any){\n   this.userSer.removeFavourite(data).subscribe({\n    next:data=>{\n      console.log(\"item removed\");\n      this.ngOnInit();\n      this.router.navigateByUrl(\"/favourite\")\n    }\n   })\n  }\n\n  addToOrder(theItem:any){\n    if(this.login.isLoggedIn){\n      this.addtocart = new Order();\n      this.addtocart.customerId = localStorage.getItem('email') ?? '';\n      this.addtocart.billingAddress=localStorage.getItem(\"address\")?? '';\n      // let item:any=this.restaurantItems.find((item: { itemName: string; })=>item.itemName==itemName)\n      if (theItem) {\n        console.log(theItem);\n        theItem.status=\"incart\";\n        theItem.count=1;\n        if (!this.addtocart.items) {\n          this.addtocart.items = [];\n        }\n        this.addtocart.items = this.addtocart.items.concat(theItem);\n        this.foodie.insertOrder(this.addtocart).subscribe(data=>{\n          this._sanckBar.open(`Item Added to Cart`, 'success', {\n            duration: 3000,\n            panelClass: ['mat-toolbar', 'mat-primary']\n          });\n        });\n        }\n  }\n  \n  }\n\n}\n","<div style=\"he\">\n    <h1>Favourites</h1>\n</div>\n<div id=\"main\">\n    <div id=\"mainCardCont\">\n        <div class=\"card\" *ngFor=\"let list of favList\">\n            <img src=\"{{list.imageUrl}}\" alt=\"\">\n            <div class=\"cardContent\">\n                <span>{{list.itemName}}</span>\n                <p id=\"rating\">{{list.itemRating}}<i class=\"fa fa-star\"></i></p>\n                <p id=\"price\">Price: <i class=\"fa fa-rupee\"></i>{{list.itemPrice}}</p>\n\n                <div id=\"order\">\n                    <button mat-raised-button color=\"primary\" (click)=\"addToOrder(list)\">Order</button>\n                </div>\n\n                <div id=\"icon\" (click)=\"removeItem(list.itemId)\">\n                    <i class=\"fa fa-trash-o\" ></i>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}