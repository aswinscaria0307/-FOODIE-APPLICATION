{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../service/user.service\";\nimport * as i3 from \"@angular/material/snack-bar\";\nimport * as i4 from \"../service/login.service\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/material/button\";\nimport * as i8 from \"@angular/material/icon\";\nfunction UpdateUserComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Name must be \", ctx_r0.name == null ? null : ctx_r0.name.errors == null ? null : ctx_r0.name.errors[\"minlength\"].requiredLength, \" characters long \");\n  }\n}\nfunction UpdateUserComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtext(1, \" Mobile no, must be start with 7,8 or 9 \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class UpdateUserComponent {\n  constructor(fb, userService, _sanckBar, loginStatus, router) {\n    this.fb = fb;\n    this.userService = userService;\n    this._sanckBar = _sanckBar;\n    this.loginStatus = loginStatus;\n    this.router = router;\n    this.uploadedImage = File;\n    this.userName = \"\";\n    this.fileName = \"\";\n    this.updationForm = this.fb.group({\n      name: ['', [Validators.minLength(3)]],\n      phoneNo: [null, [Validators.pattern(/^[789]\\d{9,9}$/)]]\n    });\n  }\n  ngOnInit() {\n    this.userService.getUserName().subscribe(data => {\n      this.userName = data.name;\n      console.log(this.userName);\n      this.userName = data.name;\n      this.userPhone = data.phoneNo;\n      this.updationForm.patchValue({\n        name: this.userName,\n        phoneNo: this.userPhone\n      });\n    });\n  }\n  get name() {\n    return this.updationForm.get('name');\n  }\n  get phone() {\n    return this.updationForm.get('phoneNo');\n  }\n  onImageUpload(event) {\n    const userImg = event.target.files[0];\n    console.log(userImg);\n    if (userImg) {\n      this.uploadedImage = userImg;\n      this.fileName = userImg.name;\n    } else {\n      this.uploadedImage = null;\n      this.fileName = \"\";\n    }\n  }\n  updateUser() {\n    const userData = this.updationForm.value;\n    const fData = new FormData();\n    // form data alway supports string file\n    fData.append('userInfo', JSON.stringify(userData));\n    fData.append('file', this.uploadedImage);\n    this.userService.updateUser(fData).subscribe({\n      next: data => {\n        this._sanckBar.open('Updated successfully.....', 'success', {\n          duration: 3000,\n          panelClass: ['mat-toolbar', 'blue']\n        });\n        this.router.navigate(['/profile']);\n        //\n        this.loginStatus.userLoggedIn.emit(true);\n      },\n      error(err) {\n        alert('not updated');\n      }\n    });\n  }\n}\nUpdateUserComponent.ɵfac = function UpdateUserComponent_Factory(t) {\n  return new (t || UpdateUserComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.UserService), i0.ɵɵdirectiveInject(i3.MatSnackBar), i0.ɵɵdirectiveInject(i4.LoginService), i0.ɵɵdirectiveInject(i5.Router));\n};\nUpdateUserComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UpdateUserComponent,\n  selectors: [[\"app-update-user\"]],\n  decls: 30,\n  vars: 5,\n  consts: [[\"id\", \"registration\"], [\"id\", \"formBx\"], [2, \"text-align\", \"center\"], [3, \"formGroup\", \"ngSubmit\"], [\"id\", \"nameInp\"], [\"type\", \"text\", \"formControlName\", \"name\"], [\"id\", \"err\", 4, \"ngIf\"], [\"id\", \"phoneInp\"], [\"type\", \"number\", \"formControlName\", \"phoneNo\"], [\"id\", \"userInp\"], [\"for\", \"image\", 1, \"file-label\"], [1, \"fa\", \"fa-upload\"], [\"type\", \"file\", \"accept\", \"images/*\", \"id\", \"image\", 1, \"file-input\", 3, \"change\"], [2, \"text-align\", \"center\", \"color\", \"white\"], [\"mat-raised-button\", \"\", \"type\", \"submit\", 3, \"disabled\"], [\"id\", \"clear\"], [\"routerLink\", \"/profile\"], [\"id\", \"err\"]],\n  template: function UpdateUserComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"section\")(2, \"div\", 1)(3, \"h2\", 2);\n      i0.ɵɵtext(4, \"Update Info\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"form\", 3);\n      i0.ɵɵlistener(\"ngSubmit\", function UpdateUserComponent_Template_form_ngSubmit_5_listener() {\n        return ctx.updateUser();\n      });\n      i0.ɵɵelementStart(6, \"div\", 4)(7, \"span\");\n      i0.ɵɵtext(8, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(9, \"input\", 5);\n      i0.ɵɵtemplate(10, UpdateUserComponent_div_10_Template, 2, 1, \"div\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\", 7)(12, \"span\");\n      i0.ɵɵtext(13, \"Phone No.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(14, \"input\", 8);\n      i0.ɵɵtemplate(15, UpdateUserComponent_div_15_Template, 2, 0, \"div\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"div\", 9)(17, \"label\", 10);\n      i0.ɵɵtext(18, \"Upload Image \");\n      i0.ɵɵelement(19, \"i\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"input\", 12);\n      i0.ɵɵlistener(\"change\", function UpdateUserComponent_Template_input_change_20_listener($event) {\n        return ctx.onImageUpload($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(21, \"p\", 13);\n      i0.ɵɵtext(22);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(23, \"br\");\n      i0.ɵɵelementStart(24, \"button\", 14);\n      i0.ɵɵtext(25, \"Update\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(26, \"div\", 15)(27, \"a\", 16)(28, \"mat-icon\");\n      i0.ɵɵtext(29, \"clear\");\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"formGroup\", ctx.updationForm);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.name == null ? null : ctx.name.errors == null ? null : ctx.name.errors[\"minlength\"]);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.phone == null ? null : ctx.phone.errors == null ? null : ctx.phone.errors[\"pattern\"]);\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(ctx.fileName);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", !ctx.updationForm.valid);\n    }\n  },\n  dependencies: [i6.NgIf, i5.RouterLink, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i7.MatButton, i8.MatIcon],\n  styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n \\tvar __webpack_modules__ = ({\\n\\n 271:\\n\\n (() => {\\n\\nthrow new Error(\\\"Module build failed (from ./node_modules/postcss-loader/dist/cjs.js):\\\\nSyntaxError\\\\n\\\\n(41:5) F:\\\\\\\\CAPSTONE PROJECT- FOODIE APP\\\\\\\\FoodieApplicationFE\\\\\\\\FoodieApplication\\\\\\\\src\\\\\\\\app\\\\\\\\update-user\\\\\\\\update-user.component.css Unknown word\\\\n\\\\n \\\\u001b[90m 39 | \\\\u001b[39m    outline\\\\u001b[33m:\\\\u001b[39m none\\\\u001b[33m;\\\\u001b[39m\\\\n \\\\u001b[90m 40 | \\\\u001b[39m    bo\\\\n\\\\u001b[1m\\\\u001b[31m>\\\\u001b[39m\\\\u001b[22m\\\\u001b[90m 41 | \\\\u001b[39m    margin-bottom\\\\u001b[33m:\\\\u001b[39m6px\\\\u001b[33m;\\\\u001b[39m\\\\n \\\\u001b[90m    | \\\\u001b[39m    \\\\u001b[1m\\\\u001b[31m^\\\\u001b[39m\\\\u001b[22m\\\\n \\\\u001b[90m 42 | \\\\u001b[39m    font-size\\\\u001b[33m:\\\\u001b[39m 15px\\\\u001b[33m;\\\\u001b[39m\\\\n \\\\u001b[90m 43 | \\\\u001b[39m\\\\u001b[33m}\\\\u001b[39m\\\\n\\\");\\n\\n })\\n\\n \\t})[_ngcontent-%COMP%];\\n\\n \\t\\n \\t//[_ngcontent-%COMP%]   startup[_ngcontent-%COMP%]   //[_ngcontent-%COMP%]   Load[_ngcontent-%COMP%]   entry[_ngcontent-%COMP%]   module[_ngcontent-%COMP%]   and[_ngcontent-%COMP%]   return[_ngcontent-%COMP%]   exports[_ngcontent-%COMP%]   //[_ngcontent-%COMP%]   This[_ngcontent-%COMP%]   entry[_ngcontent-%COMP%]   module[_ngcontent-%COMP%]   doesn't[_ngcontent-%COMP%]   tell[_ngcontent-%COMP%]   about[_ngcontent-%COMP%]   it's[_ngcontent-%COMP%]   top-level[_ngcontent-%COMP%]   declarations[_ngcontent-%COMP%]   so[_ngcontent-%COMP%]   it[_ngcontent-%COMP%]   can't[_ngcontent-%COMP%]   be[_ngcontent-%COMP%]   inlined[_ngcontent-%COMP%]   var[_ngcontent-%COMP%]   __webpack_exports__[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] {};\\n \\t__webpack_modules__[271]();\\n \\tresource = __webpack_exports__;\\n \\t\\n })()\\n;\\n/*# sourceMappingURL=update-user.component.css.map*/\"]\n});","map":{"version":3,"mappings":"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","names":["Validators","i0","UpdateUserComponent","constructor","fb","userService","_sanckBar","loginStatus","router","File","group","name","minLength","phoneNo","pattern","ngOnInit","getUserName","subscribe","data","userName","console","log","userPhone","updationForm","patchValue","get","phone","onImageUpload","event","userImg","target","files","uploadedImage","fileName","updateUser","userData","value","fData","FormData","append","JSON","stringify","next","open","duration","panelClass","navigate","userLoggedIn","emit","error","err","alert","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["F:\\CAPSTONE PROJECT- FOODIE APP\\FoodieApplicationFE\\FoodieApplication\\src\\app\\update-user\\update-user.component.ts","F:\\CAPSTONE PROJECT- FOODIE APP\\FoodieApplicationFE\\FoodieApplication\\src\\app\\update-user\\update-user.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AbstractControl, FormBuilder, Validators } from '@angular/forms';\nimport { UserService } from '../service/user.service';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { LoginService } from '../service/login.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-update-user',\n  templateUrl: './update-user.component.html',\n  styleUrls: ['./update-user.component.css']\n})\nexport class UpdateUserComponent implements OnInit {\n  responseData:any;\n  public uploadedImage:any=File;\n  userName:string=\"\";\n  userPhone:any;\n  fileName:string=\"\";\n\n  constructor(private fb:FormBuilder,\n    private userService:UserService,\n    private _sanckBar:MatSnackBar,\n    private loginStatus:LoginService,private router:Router){}\n\n  ngOnInit(): void {\n    this.userService.getUserName().subscribe((data:any)=>{\n      this.userName = data.name;\n      console.log(this.userName);\n      \n      this.userName = data.name;\n      this.userPhone = data.phoneNo;\n\n      this.updationForm.patchValue({\n        name: this.userName,\n        phoneNo: this.userPhone\n      });\n     })\n  }\n\n  updationForm = this.fb.group({\n    \n    name:['',[Validators.minLength(3)]],\n    phoneNo:[null,[Validators.pattern(/^[789]\\d{9,9}$/)]]\n    \n  })\n\n  get name(){\n    return this.updationForm.get('name');\n  }\n\n  get phone(){\n    return this.updationForm.get('phoneNo');\n  }\n\n  public onImageUpload(event:any) {\n   const userImg = event.target.files[0];\n   console.log(userImg);\n   if(userImg){\n    this.uploadedImage = userImg;\n    this.fileName = userImg.name;\n   }\n   else{\n    this.uploadedImage = null;\n    this.fileName=\"\";\n   }\n\n  }\n\n  updateUser(){\n\n    const userData = this.updationForm.value;    \n    const fData = new FormData();\n    // form data alway supports string file\n    fData.append('userInfo', JSON.stringify(userData));\n    fData.append('file',this.uploadedImage);\n\n    this.userService.updateUser(fData).subscribe({\n      next:data=>{\n        this._sanckBar.open('Updated successfully.....', 'success', {\n          duration: 3000,\n          panelClass: ['mat-toolbar', 'blue']\n        });\n        this.router.navigate(['/profile']);\n        //\n        this.loginStatus.userLoggedIn.emit(true);\n      },error(err) {\n        alert('not updated')\n      },\n    })\n  }\n\n}\n","<div id=\"registration\">\n    <section>\n\n    <div id=\"formBx\">\n        <h2 style=\"text-align: center;\">Update Info</h2>\n    <form (ngSubmit)=\"updateUser()\" [formGroup]=\" updationForm\">\n    <div id=\"nameInp\">\n        <span>Name</span>\n        <input type=\"text\"  formControlName=\"name\">\n    \n        <div id=\"err\" *ngIf=\"name?.errors?.['minlength']\">\n            Name must be {{name?.errors?.['minlength'].requiredLength}} characters long\n        </div>\n    </div>\n    <!-- Phone -->\n    <div id=\"phoneInp\">\n        <span>Phone No.</span>\n        <input type=\"number\" formControlName=\"phoneNo\">\n    \n        <div id=\"err\" *ngIf=\"phone?.errors?.['pattern']\">\n           Mobile no, must be start with 7,8 or 9\n        </div>\n    </div>\n\n    <div id=\"userInp\">\n        <label for=\"image\" class=\"file-label\">Upload Image <i class=\"fa fa-upload\"></i></label>\n        <input type=\"file\" accept=\"images/*\" (change)=\"onImageUpload($event)\" id=\"image\" class=\"file-input\">\n    </div>\n    <p style=\"text-align: center;color: white;\">{{fileName}}</p>\n\n    <br>\n    <button mat-raised-button type=\"submit\" [disabled]=\"! updationForm.valid\">Update</button>\n</form>\n\n<div id=\"clear\">\n    <a routerLink=\"/profile\"><mat-icon>clear</mat-icon></a>\n</div>\n</div>\n</section>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}